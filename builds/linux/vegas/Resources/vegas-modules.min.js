(function(r,k){function o(){if(!c.isReady){try{B.documentElement.doScroll("left")}catch(a){setTimeout(o,1);return}c.ready()}}function l(a,b){b.src?c.ajax({url:b.src,async:false,dataType:"script"}):c.globalEval(b.text||b.textContent||b.innerHTML||"");b.parentNode&&b.parentNode.removeChild(b)}function i(a,b,d,f,e,n){var p=a.length;if(typeof b==="object"){for(var w in b)i(a,w,b[w],f,e,d);return a}if(d!==k){f=!n&&f&&c.isFunction(d);for(w=0;w<p;w++)e(a[w],b,f?d.call(a[w],w,e(a[w],b)):d,n);return a}return p?
e(a[0],b):k}function j(){return(new Date).getTime()}function g(){return false}function m(){return true}function v(a,b,d){d[0].type=a;return c.event.handle.apply(b,d)}function A(a){var b,d=[],f=[],e=arguments,n,p,w,s,x,C;p=c.data(this,"events");if(!(a.liveFired===this||!p||!p.live||a.button&&a.type==="click")){a.liveFired=this;var G=p.live.slice(0);for(s=0;s<G.length;s++){p=G[s];p.origType.replace(fa,"")===a.type?f.push(p.selector):G.splice(s--,1)}n=c(a.target).closest(f,a.currentTarget);x=0;for(C=
n.length;x<C;x++)for(s=0;s<G.length;s++){p=G[s];if(n[x].selector===p.selector){w=n[x].elem;f=null;if(p.preType==="mouseenter"||p.preType==="mouseleave")f=c(a.relatedTarget).closest(p.selector)[0];if(!f||f!==w)d.push({elem:w,handleObj:p})}}x=0;for(C=d.length;x<C;x++){n=d[x];a.currentTarget=n.elem;a.data=n.handleObj.data;a.handleObj=n.handleObj;if(n.handleObj.origHandler.apply(n.elem,e)===false){b=false;break}}return b}}function H(a,b){return"live."+(a&&a!=="*"?a+".":"")+b.replace(/\./g,"`").replace(/ /g,
"&")}function J(a,b){var d=0;b.each(function(){if(this.nodeName===(a[d]&&a[d].nodeName)){var f=c.data(a[d++]),e=c.data(this,f);if(f=f&&f.events){delete e.handle;e.events={};for(var n in f)for(var p in f[n])c.event.add(this,n,f[n][p],f[n][p].data)}}})}function N(a,b,d){var f,e,n;b=b&&b[0]?b[0].ownerDocument||b[0]:B;if(a.length===1&&typeof a[0]==="string"&&a[0].length<512&&b===B&&!Ba.test(a[0])&&(c.support.checkClone||!Ca.test(a[0]))){e=true;if(n=c.fragments[a[0]])if(n!==1)f=n}if(!f){f=b.createDocumentFragment();
c.clean(a,b,f,d)}if(e)c.fragments[a[0]]=n?f:1;return{fragment:f,cacheable:e}}function O(a,b){var d={};c.each(Da.concat.apply([],Da.slice(0,b)),function(){d[this]=a});return d}function U(a){return"scrollTo"in a&&a.document?a:a.nodeType===9?a.defaultView||a.parentWindow:false}var c=function(a,b){return new c.fn.init(a,b)},V=r.jQuery,X=r.$,B=r.document,P,T=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,ba=/^.[^:#\[\.,]*$/,ka=/\S/,W=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,Xa=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,ga=navigator.userAgent,
Ea=false,ha=[],ca,oa=Object.prototype.toString,pa=Object.prototype.hasOwnProperty,qa=Array.prototype.push,ia=Array.prototype.slice,Fa=Array.prototype.indexOf;c.fn=c.prototype={init:function(a,b){var d,f,e;if(!a)return this;if(a.nodeType){this.context=this[0]=a;this.length=1;return this}if(a==="body"&&!b){this.context=B;this[0]=B.body;this.selector="body";this.length=1;return this}if(typeof a==="string")if((d=T.exec(a))&&(d[1]||!b))if(d[1]){e=b?b.ownerDocument||b:B;if(f=Xa.exec(a))if(c.isPlainObject(b)){a=
[B.createElement(f[1])];c.fn.attr.call(a,b,true)}else a=[e.createElement(f[1])];else{f=N([d[1]],[e]);a=(f.cacheable?f.fragment.cloneNode(true):f.fragment).childNodes}return c.merge(this,a)}else{if(f=B.getElementById(d[2])){if(f.id!==d[2])return P.find(a);this.length=1;this[0]=f}this.context=B;this.selector=a;return this}else if(!b&&/^\w+$/.test(a)){this.selector=a;this.context=B;a=B.getElementsByTagName(a);return c.merge(this,a)}else return!b||b.jquery?(b||P).find(a):c(b).find(a);else if(c.isFunction(a))return P.ready(a);
if(a.selector!==k){this.selector=a.selector;this.context=a.context}return c.makeArray(a,this)},selector:"",jquery:"1.4.2",length:0,size:function(){return this.length},toArray:function(){return ia.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this.slice(a)[0]:this[a]},pushStack:function(a,b,d){var f=c();c.isArray(a)?qa.apply(f,a):c.merge(f,a);f.prevObject=this;f.context=this.context;if(b==="find")f.selector=this.selector+(this.selector?" ":"")+d;else if(b)f.selector=this.selector+
"."+b+"("+d+")";return f},each:function(a,b){return c.each(this,a,b)},ready:function(a){c.bindReady();if(c.isReady)a.call(B,c);else ha&&ha.push(a);return this},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(ia.apply(this,arguments),"slice",ia.call(arguments).join(","))},map:function(a){return this.pushStack(c.map(this,function(b,d){return a.call(b,d,b)}))},end:function(){return this.prevObject||
c(null)},push:qa,sort:[].sort,splice:[].splice};c.fn.init.prototype=c.fn;c.extend=c.fn.extend=function(){var a=arguments[0]||{},b=1,d=arguments.length,f=false,e,n,p,w;if(typeof a==="boolean"){f=a;a=arguments[1]||{};b=2}if(typeof a!=="object"&&!c.isFunction(a))a={};if(d===b){a=this;--b}for(;b<d;b++)if((e=arguments[b])!=null)for(n in e){p=a[n];w=e[n];if(a!==w)if(f&&w&&(c.isPlainObject(w)||c.isArray(w))){p=p&&(c.isPlainObject(p)||c.isArray(p))?p:c.isArray(w)?[]:{};a[n]=c.extend(f,p,w)}else if(w!==k)a[n]=
w}return a};c.extend({noConflict:function(a){r.$=X;if(a)r.jQuery=V;return c},isReady:false,ready:function(){if(!c.isReady){if(!B.body)return setTimeout(c.ready,13);c.isReady=true;if(ha){for(var a,b=0;a=ha[b++];)a.call(B,c);ha=null}c.fn.triggerHandler&&c(B).triggerHandler("ready")}},bindReady:function(){if(!Ea){Ea=true;if(B.readyState==="complete")return c.ready();if(B.addEventListener){B.addEventListener("DOMContentLoaded",ca,false);r.addEventListener("load",c.ready,false)}else if(B.attachEvent){B.attachEvent("onreadystatechange",
ca);r.attachEvent("onload",c.ready);var a=false;try{a=r.frameElement==null}catch(b){}B.documentElement.doScroll&&a&&o()}}},isFunction:function(a){return oa.call(a)==="[object Function]"},isArray:function(a){return oa.call(a)==="[object Array]"},isPlainObject:function(a){if(!a||oa.call(a)!=="[object Object]"||a.nodeType||a.setInterval)return false;if(a.constructor&&!pa.call(a,"constructor")&&!pa.call(a.constructor.prototype,"isPrototypeOf"))return false;for(var b in a);return b===k||pa.call(a,b)},
isEmptyObject:function(a){for(var b in a)return false;return true},error:function(a){throw a;},parseJSON:function(a){if(typeof a!=="string"||!a)return null;a=c.trim(a);if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return r.JSON&&r.JSON.parse?r.JSON.parse(a):(new Function("return "+a))();else c.error("Invalid JSON: "+a)},noop:function(){},globalEval:function(a){if(a&&
ka.test(a)){var b=B.getElementsByTagName("head")[0]||B.documentElement,d=B.createElement("script");d.type="text/javascript";if(c.support.scriptEval)d.appendChild(B.createTextNode(a));else d.text=a;b.insertBefore(d,b.firstChild);b.removeChild(d)}},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,b,d){var f,e=0,n=a.length,p=n===k||c.isFunction(a);if(d)if(p)for(f in a){if(b.apply(a[f],d)===false)break}else for(;e<n;){if(b.apply(a[e++],d)===false)break}else if(p)for(f in a){if(b.call(a[f],
f,a[f])===false)break}else for(d=a[0];e<n&&b.call(d,e,d)!==false;d=a[++e]);return a},trim:function(a){return(a||"").replace(W,"")},makeArray:function(a,b){var d=b||[];if(a!=null)a.length==null||typeof a==="string"||c.isFunction(a)||typeof a!=="function"&&a.setInterval?qa.call(d,a):c.merge(d,a);return d},inArray:function(a,b){if(b.indexOf)return b.indexOf(a);for(var d=0,f=b.length;d<f;d++)if(b[d]===a)return d;return-1},merge:function(a,b){var d=a.length,f=0;if(typeof b.length==="number")for(var e=
b.length;f<e;f++)a[d++]=b[f];else for(;b[f]!==k;)a[d++]=b[f++];a.length=d;return a},grep:function(a,b,d){for(var f=[],e=0,n=a.length;e<n;e++)!d!==!b(a[e],e)&&f.push(a[e]);return f},map:function(a,b,d){for(var f=[],e,n=0,p=a.length;n<p;n++){e=b(a[n],n,d);if(e!=null)f[f.length]=e}return f.concat.apply([],f)},guid:1,proxy:function(a,b,d){if(arguments.length===2)if(typeof b==="string"){d=a;a=d[b];b=k}else if(b&&!c.isFunction(b)){d=b;b=k}if(!b&&a)b=function(){return a.apply(d||this,arguments)};if(a)b.guid=
a.guid=a.guid||b.guid||c.guid++;return b},uaMatch:function(a){a=a.toLowerCase();a=/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||!/compatible/.test(a)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},browser:{}});ga=c.uaMatch(ga);if(ga.browser){c.browser[ga.browser]=true;c.browser.version=ga.version}if(c.browser.webkit)c.browser.safari=true;if(Fa)c.inArray=function(a,b){return Fa.call(b,a)};P=c(B);if(B.addEventListener)ca=
function(){B.removeEventListener("DOMContentLoaded",ca,false);c.ready()};else if(B.attachEvent)ca=function(){if(B.readyState==="complete"){B.detachEvent("onreadystatechange",ca);c.ready()}};(function(){c.support={};var a=B.documentElement,b=B.createElement("script"),d=B.createElement("div"),f="script"+j();d.style.display="none";d.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var e=d.getElementsByTagName("*"),n=d.getElementsByTagName("a")[0];
if(!(!e||!e.length||!n)){c.support={leadingWhitespace:d.firstChild.nodeType===3,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/red/.test(n.getAttribute("style")),hrefNormalized:n.getAttribute("href")==="/a",opacity:/^0.55$/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:d.getElementsByTagName("input")[0].value==="on",optSelected:B.createElement("select").appendChild(B.createElement("option")).selected,parentNode:d.removeChild(d.appendChild(B.createElement("div"))).parentNode===
null,deleteExpando:true,checkClone:false,scriptEval:false,noCloneEvent:true,boxModel:null};b.type="text/javascript";try{b.appendChild(B.createTextNode("window."+f+"=1;"))}catch(p){}a.insertBefore(b,a.firstChild);if(r[f]){c.support.scriptEval=true;delete r[f]}try{delete b.test}catch(w){c.support.deleteExpando=false}a.removeChild(b);if(d.attachEvent&&d.fireEvent){d.attachEvent("onclick",function s(){c.support.noCloneEvent=false;d.detachEvent("onclick",s)});d.cloneNode(true).fireEvent("onclick")}d=B.createElement("div");
d.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";a=B.createDocumentFragment();a.appendChild(d.firstChild);c.support.checkClone=a.cloneNode(true).cloneNode(true).lastChild.checked;c(function(){var s=B.createElement("div");s.style.width=s.style.paddingLeft="1px";B.body.appendChild(s);c.boxModel=c.support.boxModel=s.offsetWidth===2;B.body.removeChild(s).style.display="none"});a=function(s){var x=B.createElement("div");s="on"+s;var C=s in x;if(!C){x.setAttribute(s,"return;");C=typeof x[s]===
"function"}return C};c.support.submitBubbles=a("submit");c.support.changeBubbles=a("change");a=b=d=e=n=null}})();c.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var Y="jQuery"+j(),Ya=0,Ga={};c.extend({cache:{},expando:Y,noData:{embed:true,object:true,applet:true},data:function(a,b,d){if(!(a.nodeName&&c.noData[a.nodeName.toLowerCase()])){a=
a==r?Ga:a;var f=a[Y],e=c.cache;if(!f&&typeof b==="string"&&d===k)return null;f||(f=++Ya);if(typeof b==="object"){a[Y]=f;e[f]=c.extend(true,{},b)}else if(!e[f]){a[Y]=f;e[f]={}}a=e[f];if(d!==k)a[b]=d;return typeof b==="string"?a[b]:a}},removeData:function(a,b){if(!(a.nodeName&&c.noData[a.nodeName.toLowerCase()])){a=a==r?Ga:a;var d=a[Y],f=c.cache,e=f[d];if(b){if(e){delete e[b];c.isEmptyObject(e)&&c.removeData(a)}}else{if(c.support.deleteExpando)delete a[c.expando];else a.removeAttribute&&a.removeAttribute(c.expando);
delete f[d]}}}});c.fn.extend({data:function(a,b){if(typeof a==="undefined"&&this.length)return c.data(this[0]);else if(typeof a==="object")return this.each(function(){c.data(this,a)});var d=a.split(".");d[1]=d[1]?"."+d[1]:"";if(b===k){var f=this.triggerHandler("getData"+d[1]+"!",[d[0]]);if(f===k&&this.length)f=c.data(this[0],a);return f===k&&d[1]?this.data(d[0]):f}else return this.trigger("setData"+d[1]+"!",[d[0],b]).each(function(){c.data(this,a,b)})},removeData:function(a){return this.each(function(){c.removeData(this,
a)})}});c.extend({queue:function(a,b,d){if(a){b=(b||"fx")+"queue";var f=c.data(a,b);if(!d)return f||[];if(!f||c.isArray(d))f=c.data(a,b,c.makeArray(d));else f.push(d);return f}},dequeue:function(a,b){b=b||"fx";var d=c.queue(a,b),f=d.shift();if(f==="inprogress")f=d.shift();if(f){b==="fx"&&d.unshift("inprogress");f.call(a,function(){c.dequeue(a,b)})}}});c.fn.extend({queue:function(a,b){if(typeof a!=="string"){b=a;a="fx"}if(b===k)return c.queue(this[0],a);return this.each(function(){var d=c.queue(this,
a,b);a==="fx"&&d[0]!=="inprogress"&&c.dequeue(this,a)})},dequeue:function(a){return this.each(function(){c.dequeue(this,a)})},delay:function(a,b){a=c.fx?c.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(){var d=this;setTimeout(function(){c.dequeue(d,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])}});var Ha=/[\n\t]/g,ra=/\s+/,Za=/\r/g,$a=/href|src|style/,ab=/(button|input)/i,bb=/(button|input|object|select|textarea)/i,cb=/^(a|area)$/i,Ia=/radio|checkbox/;c.fn.extend({attr:function(a,
b){return i(this,a,b,true,c.attr)},removeAttr:function(a){return this.each(function(){c.attr(this,a,"");this.nodeType===1&&this.removeAttribute(a)})},addClass:function(a){if(c.isFunction(a))return this.each(function(x){var C=c(this);C.addClass(a.call(this,x,C.attr("class")))});if(a&&typeof a==="string")for(var b=(a||"").split(ra),d=0,f=this.length;d<f;d++){var e=this[d];if(e.nodeType===1)if(e.className){for(var n=" "+e.className+" ",p=e.className,w=0,s=b.length;w<s;w++)if(n.indexOf(" "+b[w]+" ")<
0)p+=" "+b[w];e.className=c.trim(p)}else e.className=a}return this},removeClass:function(a){if(c.isFunction(a))return this.each(function(s){var x=c(this);x.removeClass(a.call(this,s,x.attr("class")))});if(a&&typeof a==="string"||a===k)for(var b=(a||"").split(ra),d=0,f=this.length;d<f;d++){var e=this[d];if(e.nodeType===1&&e.className)if(a){for(var n=(" "+e.className+" ").replace(Ha," "),p=0,w=b.length;p<w;p++)n=n.replace(" "+b[p]+" "," ");e.className=c.trim(n)}else e.className=""}return this},toggleClass:function(a,
b){var d=typeof a,f=typeof b==="boolean";if(c.isFunction(a))return this.each(function(e){var n=c(this);n.toggleClass(a.call(this,e,n.attr("class"),b),b)});return this.each(function(){if(d==="string")for(var e,n=0,p=c(this),w=b,s=a.split(ra);e=s[n++];){w=f?w:!p.hasClass(e);p[w?"addClass":"removeClass"](e)}else if(d==="undefined"||d==="boolean"){this.className&&c.data(this,"__className__",this.className);this.className=this.className||a===false?"":c.data(this,"__className__")||""}})},hasClass:function(a){a=
" "+a+" ";for(var b=0,d=this.length;b<d;b++)if((" "+this[b].className+" ").replace(Ha," ").indexOf(a)>-1)return true;return false},val:function(a){if(a===k){var b=this[0];if(b){if(c.nodeName(b,"option"))return(b.attributes.value||{}).specified?b.value:b.text;if(c.nodeName(b,"select")){var d=b.selectedIndex,f=[],e=b.options;b=b.type==="select-one";if(d<0)return null;var n=b?d:0;for(d=b?d+1:e.length;n<d;n++){var p=e[n];if(p.selected){a=c(p).val();if(b)return a;f.push(a)}}return f}if(Ia.test(b.type)&&
!c.support.checkOn)return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(Za,"")}return k}var w=c.isFunction(a);return this.each(function(s){var x=c(this),C=a;if(this.nodeType===1){if(w)C=a.call(this,s,x.val());if(typeof C==="number")C+="";if(c.isArray(C)&&Ia.test(this.type))this.checked=c.inArray(x.val(),C)>=0;else if(c.nodeName(this,"select")){var G=c.makeArray(C);c("option",this).each(function(){this.selected=c.inArray(c(this).val(),G)>=0});if(!G.length)this.selectedIndex=
-1}else this.value=C}})}});c.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(a,b,d,f){if(!a||a.nodeType===3||a.nodeType===8)return k;if(f&&b in c.attrFn)return c(a)[b](d);f=a.nodeType!==1||!c.isXMLDoc(a);var e=d!==k;b=f&&c.props[b]||b;if(a.nodeType===1){var n=$a.test(b);if(b in a&&f&&!n){if(e){b==="type"&&ab.test(a.nodeName)&&a.parentNode&&c.error("type property can't be changed");a[b]=d}if(c.nodeName(a,"form")&&a.getAttributeNode(b))return a.getAttributeNode(b).nodeValue;
if(b==="tabIndex")return(b=a.getAttributeNode("tabIndex"))&&b.specified?b.value:bb.test(a.nodeName)||cb.test(a.nodeName)&&a.href?0:k;return a[b]}if(!c.support.style&&f&&b==="style"){if(e)a.style.cssText=""+d;return a.style.cssText}e&&a.setAttribute(b,""+d);a=!c.support.hrefNormalized&&f&&n?a.getAttribute(b,2):a.getAttribute(b);return a===null?k:a}return c.style(a,b,d)}});var fa=/\.(.*)$/,db=function(a){return a.replace(/[^\w\s\.\|`]/g,function(b){return"\\"+b})};c.event={add:function(a,b,d,f){if(!(a.nodeType===
3||a.nodeType===8)){if(a.setInterval&&a!==r&&!a.frameElement)a=r;var e,n;if(d.handler){e=d;d=e.handler}if(!d.guid)d.guid=c.guid++;if(n=c.data(a)){var p=n.events=n.events||{},w=n.handle;if(!w)n.handle=w=function(){return typeof c!=="undefined"&&!c.event.triggered?c.event.handle.apply(w.elem,arguments):k};w.elem=a;b=b.split(" ");for(var s,x=0,C;s=b[x++];){n=e?c.extend({},e):{handler:d,data:f};if(s.indexOf(".")>-1){C=s.split(".");s=C.shift();n.namespace=C.slice(0).sort().join(".")}else{C=[];n.namespace=
""}n.type=s;n.guid=d.guid;var G=p[s],K=c.event.special[s]||{};if(!G){G=p[s]=[];if(!K.setup||K.setup.call(a,f,C,w)===false)if(a.addEventListener)a.addEventListener(s,w,false);else a.attachEvent&&a.attachEvent("on"+s,w)}if(K.add){K.add.call(a,n);if(!n.handler.guid)n.handler.guid=d.guid}G.push(n);c.event.global[s]=true}a=null}}},global:{},remove:function(a,b,d,f){if(!(a.nodeType===3||a.nodeType===8)){var e,n=0,p,w,s,x,C,G,K=c.data(a),M=K&&K.events;if(K&&M){if(b&&b.type){d=b.handler;b=b.type}if(!b||typeof b===
"string"&&b.charAt(0)==="."){b=b||"";for(e in M)c.event.remove(a,e+b)}else{for(b=b.split(" ");e=b[n++];){x=e;p=e.indexOf(".")<0;w=[];if(!p){w=e.split(".");e=w.shift();s=RegExp("(^|\\.)"+c.map(w.slice(0).sort(),db).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(C=M[e])if(d){x=c.event.special[e]||{};for(L=f||0;L<C.length;L++){G=C[L];if(d.guid===G.guid){if(p||s.test(G.namespace)){f==null&&C.splice(L--,1);x.remove&&x.remove.call(a,G)}if(f!=null)break}}if(C.length===0||f!=null&&C.length===1){if(!x.teardown||x.teardown.call(a,
w)===false)Ja(a,e,K.handle);delete M[e]}}else for(var L=0;L<C.length;L++){G=C[L];if(p||s.test(G.namespace)){c.event.remove(a,x,G.handler,L);C.splice(L--,1)}}}if(c.isEmptyObject(M)){if(b=K.handle)b.elem=null;delete K.events;delete K.handle;c.isEmptyObject(K)&&c.removeData(a)}}}}},trigger:function(a,b,d,f){var e=a.type||a;if(!f){a=typeof a==="object"?a[Y]?a:c.extend(c.Event(e),a):c.Event(e);if(e.indexOf("!")>=0){a.type=e=e.slice(0,-1);a.exclusive=true}if(!d){a.stopPropagation();c.event.global[e]&&c.each(c.cache,
function(){this.events&&this.events[e]&&c.event.trigger(a,b,this.handle.elem)})}if(!d||d.nodeType===3||d.nodeType===8)return k;a.result=k;a.target=d;b=c.makeArray(b);b.unshift(a)}a.currentTarget=d;(f=c.data(d,"handle"))&&f.apply(d,b);f=d.parentNode||d.ownerDocument;try{if(!(d&&d.nodeName&&c.noData[d.nodeName.toLowerCase()]))if(d["on"+e]&&d["on"+e].apply(d,b)===false)a.result=false}catch(n){}if(!a.isPropagationStopped()&&f)c.event.trigger(a,b,f,true);else if(!a.isDefaultPrevented()){f=a.target;var p,
w=c.nodeName(f,"a")&&e==="click",s=c.event.special[e]||{};if((!s._default||s._default.call(d,a)===false)&&!w&&!(f&&f.nodeName&&c.noData[f.nodeName.toLowerCase()])){try{if(f[e]){if(p=f["on"+e])f["on"+e]=null;c.event.triggered=true;f[e]()}}catch(x){}if(p)f["on"+e]=p;c.event.triggered=false}}},handle:function(a){var b,d,f,e;a=arguments[0]=c.event.fix(a||r.event);a.currentTarget=this;b=a.type.indexOf(".")<0&&!a.exclusive;if(!b){d=a.type.split(".");a.type=d.shift();f=RegExp("(^|\\.)"+d.slice(0).sort().join("\\.(?:.*\\.)?")+
"(\\.|$)")}e=c.data(this,"events");d=e[a.type];if(e&&d){d=d.slice(0);e=0;for(var n=d.length;e<n;e++){var p=d[e];if(b||f.test(p.namespace)){a.handler=p.handler;a.data=p.data;a.handleObj=p;p=p.handler.apply(this,arguments);if(p!==k){a.result=p;if(p===false){a.preventDefault();a.stopPropagation()}}if(a.isImmediatePropagationStopped())break}}}return a.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(a){if(a[Y])return a;var b=a;a=c.Event(b);for(var d=this.props.length,f;d;){f=this.props[--d];a[f]=b[f]}if(!a.target)a.target=a.srcElement||B;if(a.target.nodeType===3)a.target=a.target.parentNode;if(!a.relatedTarget&&a.fromElement)a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;if(a.pageX==null&&a.clientX!=null){b=B.documentElement;d=B.body;a.pageX=a.clientX+(b&&b.scrollLeft||d&&d.scrollLeft||0)-(b&&b.clientLeft||d&&d.clientLeft||0);a.pageY=a.clientY+(b&&b.scrollTop||
d&&d.scrollTop||0)-(b&&b.clientTop||d&&d.clientTop||0)}if(!a.which&&(a.charCode||a.charCode===0?a.charCode:a.keyCode))a.which=a.charCode||a.keyCode;if(!a.metaKey&&a.ctrlKey)a.metaKey=a.ctrlKey;if(!a.which&&a.button!==k)a.which=a.button&1?1:a.button&2?3:a.button&4?2:0;return a},guid:1E8,proxy:c.proxy,special:{ready:{setup:c.bindReady,teardown:c.noop},live:{add:function(a){c.event.add(this,a.origType,c.extend({},a,{handler:A}))},remove:function(a){var b=true,d=a.origType.replace(fa,"");c.each(c.data(this,
"events").live||[],function(){if(d===this.origType.replace(fa,""))return b=false});b&&c.event.remove(this,a.origType,A)}},beforeunload:{setup:function(a,b,d){if(this.setInterval)this.onbeforeunload=d;return false},teardown:function(a,b){if(this.onbeforeunload===b)this.onbeforeunload=null}}}};var Ja=B.removeEventListener?function(a,b,d){a.removeEventListener(b,d,false)}:function(a,b,d){a.detachEvent("on"+b,d)};c.Event=function(a){if(!this.preventDefault)return new c.Event(a);if(a&&a.type){this.originalEvent=
a;this.type=a.type}else this.type=a;this.timeStamp=j();this[Y]=true};c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=m;var a=this.originalEvent;if(a){a.preventDefault&&a.preventDefault();a.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=m;var a=this.originalEvent;if(a){a.stopPropagation&&a.stopPropagation();a.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=m;this.stopPropagation()},isDefaultPrevented:g,isPropagationStopped:g,
isImmediatePropagationStopped:g};var Ka=function(a){var b=a.relatedTarget;try{for(;b&&b!==this;)b=b.parentNode;if(b!==this){a.type=a.data;c.event.handle.apply(this,arguments)}}catch(d){}},La=function(a){a.type=a.data;c.event.handle.apply(this,arguments)};c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){c.event.special[a]={setup:function(d){c.event.add(this,b,d&&d.selector?La:Ka,a)},teardown:function(d){c.event.remove(this,b,d&&d.selector?La:Ka)}}});if(!c.support.submitBubbles)c.event.special.submit=
{setup:function(){if(this.nodeName.toLowerCase()!=="form"){c.event.add(this,"click.specialSubmit",function(a){var b=a.target,d=b.type;if((d==="submit"||d==="image")&&c(b).closest("form").length)return v("submit",this,arguments)});c.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,d=b.type;if((d==="text"||d==="password")&&c(b).closest("form").length&&a.keyCode===13)return v("submit",this,arguments)})}else return false},teardown:function(){c.event.remove(this,".specialSubmit")}};if(!c.support.changeBubbles){var sa=
/textarea|input|select/i,ta,Ma=function(a){var b=a.type,d=a.value;if(b==="radio"||b==="checkbox")d=a.checked;else if(b==="select-multiple")d=a.selectedIndex>-1?c.map(a.options,function(f){return f.selected}).join("-"):"";else if(a.nodeName.toLowerCase()==="select")d=a.selectedIndex;return d},ua=function(a,b){var d=a.target,f,e;if(!(!sa.test(d.nodeName)||d.readOnly)){f=c.data(d,"_change_data");e=Ma(d);if(a.type!=="focusout"||d.type!=="radio")c.data(d,"_change_data",e);if(!(f===k||e===f))if(f!=null||
e){a.type="change";return c.event.trigger(a,b,d)}}};c.event.special.change={filters:{focusout:ua,click:function(a){var b=a.target,d=b.type;if(d==="radio"||d==="checkbox"||b.nodeName.toLowerCase()==="select")return ua.call(this,a)},keydown:function(a){var b=a.target,d=b.type;if(a.keyCode===13&&b.nodeName.toLowerCase()!=="textarea"||a.keyCode===32&&(d==="checkbox"||d==="radio")||d==="select-multiple")return ua.call(this,a)},beforeactivate:function(a){a=a.target;c.data(a,"_change_data",Ma(a))}},setup:function(){if(this.type===
"file")return false;for(var a in ta)c.event.add(this,a+".specialChange",ta[a]);return sa.test(this.nodeName)},teardown:function(){c.event.remove(this,".specialChange");return sa.test(this.nodeName)}};ta=c.event.special.change.filters}B.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(f){f=c.event.fix(f);f.type=b;return c.event.handle.call(this,f)}c.event.special[b]={setup:function(){this.addEventListener(a,d,true)},teardown:function(){this.removeEventListener(a,
d,true)}}});c.each(["bind","one"],function(a,b){c.fn[b]=function(d,f,e){if(typeof d==="object"){for(var n in d)this[b](n,f,d[n],e);return this}if(c.isFunction(f)){e=f;f=k}var p=b==="one"?c.proxy(e,function(s){c(this).unbind(s,p);return e.apply(this,arguments)}):e;if(d==="unload"&&b!=="one")this.one(d,f,e);else{n=0;for(var w=this.length;n<w;n++)c.event.add(this[n],d,p,f)}return this}});c.fn.extend({unbind:function(a,b){if(typeof a==="object"&&!a.preventDefault)for(var d in a)this.unbind(d,a[d]);else{d=
0;for(var f=this.length;d<f;d++)c.event.remove(this[d],a,b)}return this},delegate:function(a,b,d,f){return this.live(b,d,f,a)},undelegate:function(a,b,d){return arguments.length===0?this.unbind("live"):this.die(b,null,d,a)},trigger:function(a,b){return this.each(function(){c.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){var d=c.Event(a);d.preventDefault();d.stopPropagation();c.event.trigger(d,b,this[0]);return d.result}},toggle:function(a){for(var b=arguments,d=1;d<b.length;)c.proxy(a,
b[d++]);return this.click(c.proxy(a,function(f){var e=(c.data(this,"lastToggle"+a.guid)||0)%d;c.data(this,"lastToggle"+a.guid,e+1);f.preventDefault();return b[e].apply(this,arguments)||false}))},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var Na={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};c.each(["live","die"],function(a,b){c.fn[b]=function(d,f,e,n){var p,w=0,s,x,C=n||this.selector,G=n?this:c(this.context);if(c.isFunction(f)){e=f;f=k}for(d=
(d||"").split(" ");(p=d[w++])!=null;){n=fa.exec(p);s="";if(n){s=n[0];p=p.replace(fa,"")}if(p==="hover")d.push("mouseenter"+s,"mouseleave"+s);else{x=p;if(p==="focus"||p==="blur"){d.push(Na[p]+s);p+=s}else p=(Na[p]||p)+s;b==="live"?G.each(function(){c.event.add(this,H(p,C),{data:f,selector:C,handler:e,origType:p,origHandler:e,preType:x})}):G.unbind(H(p,C),e)}}return this}});c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),
function(a,b){c.fn[b]=function(d){return d?this.bind(b,d):this.trigger(b)};if(c.attrFn)c.attrFn[b]=true});r.attachEvent&&!r.addEventListener&&r.attachEvent("onunload",function(){for(var a in c.cache)if(c.cache[a].handle)try{c.event.remove(c.cache[a].handle.elem)}catch(b){}});(function(){function a(h){for(var q="",t,u=0;h[u];u++){t=h[u];if(t.nodeType===3||t.nodeType===4)q+=t.nodeValue;else if(t.nodeType!==8)q+=a(t.childNodes)}return q}function b(h,q,t,u,z,y){z=0;for(var E=u.length;z<E;z++){var D=u[z];
if(D){D=D[h];for(var I=false;D;){if(D.sizcache===t){I=u[D.sizset];break}if(D.nodeType===1&&!y){D.sizcache=t;D.sizset=z}if(D.nodeName.toLowerCase()===q){I=D;break}D=D[h]}u[z]=I}}}function d(h,q,t,u,z,y){z=0;for(var E=u.length;z<E;z++){var D=u[z];if(D){D=D[h];for(var I=false;D;){if(D.sizcache===t){I=u[D.sizset];break}if(D.nodeType===1){if(!y){D.sizcache=t;D.sizset=z}if(typeof q!=="string"){if(D===q){I=true;break}}else if(s.filter(q,[D]).length>0){I=D;break}}D=D[h]}u[z]=I}}}var f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
e=0,n=Object.prototype.toString,p=false,w=true;[0,0].sort(function(){w=false;return 0});var s=function(h,q,t,u){t=t||[];var z=q=q||B;if(q.nodeType!==1&&q.nodeType!==9)return[];if(!h||typeof h!=="string")return t;for(var y=[],E,D,I,ja,Z=true,da=F(q),aa=h;(f.exec(""),E=f.exec(aa))!==null;){aa=E[3];y.push(E[1]);if(E[2]){ja=E[3];break}}if(y.length>1&&C.exec(h))if(y.length===2&&x.relative[y[0]])D=va(y[0]+y[1],q);else for(D=x.relative[y[0]]?[q]:s(y.shift(),q);y.length;){h=y.shift();if(x.relative[h])h+=
y.shift();D=va(h,D)}else{if(!u&&y.length>1&&q.nodeType===9&&!da&&x.match.ID.test(y[0])&&!x.match.ID.test(y[y.length-1])){E=s.find(y.shift(),q,da);q=E.expr?s.filter(E.expr,E.set)[0]:E.set[0]}if(q){E=u?{expr:y.pop(),set:K(u)}:s.find(y.pop(),y.length===1&&(y[0]==="~"||y[0]==="+")&&q.parentNode?q.parentNode:q,da);D=E.expr?s.filter(E.expr,E.set):E.set;if(y.length>0)I=K(D);else Z=false;for(;y.length;){var R=y.pop();E=R;if(x.relative[R])E=y.pop();else R="";if(E==null)E=q;x.relative[R](I,E,da)}}else I=[]}I||
(I=D);I||s.error(R||h);if(n.call(I)==="[object Array]")if(Z)if(q&&q.nodeType===1)for(h=0;I[h]!=null;h++){if(I[h]&&(I[h]===true||I[h].nodeType===1&&Q(q,I[h])))t.push(D[h])}else for(h=0;I[h]!=null;h++)I[h]&&I[h].nodeType===1&&t.push(D[h]);else t.push.apply(t,I);else K(I,t);if(ja){s(ja,z,t,u);s.uniqueSort(t)}return t};s.uniqueSort=function(h){if(L){p=w;h.sort(L);if(p)for(var q=1;q<h.length;q++)h[q]===h[q-1]&&h.splice(q--,1)}return h};s.matches=function(h,q){return s(h,null,null,q)};s.find=function(h,
q,t){var u,z;if(!h)return[];for(var y=0,E=x.order.length;y<E;y++){var D=x.order[y];if(z=x.leftMatch[D].exec(h)){var I=z[1];z.splice(1,1);if(I.substr(I.length-1)!=="\\"){z[1]=(z[1]||"").replace(/\\/g,"");u=x.find[D](z,q,t);if(u!=null){h=h.replace(x.match[D],"");break}}}}u||(u=q.getElementsByTagName("*"));return{set:u,expr:h}};s.filter=function(h,q,t,u){for(var z=h,y=[],E=q,D,I,ja=q&&q[0]&&F(q[0]);h&&q.length;){for(var Z in x.filter)if((D=x.leftMatch[Z].exec(h))!=null&&D[2]){var da=x.filter[Z],aa,R;
R=D[1];I=false;D.splice(1,1);if(R.substr(R.length-1)!=="\\"){if(E===y)y=[];if(x.preFilter[Z])if(D=x.preFilter[Z](D,E,t,y,u,ja)){if(D===true)continue}else I=aa=true;if(D)for(var la=0;(R=E[la])!=null;la++)if(R){aa=da(R,D,la,E);var Oa=u^!!aa;if(t&&aa!=null)if(Oa)I=true;else E[la]=false;else if(Oa){y.push(R);I=true}}if(aa!==k){t||(E=y);h=h.replace(x.match[Z],"");if(!I)return[];break}}}if(h===z)if(I==null)s.error(h);else break;z=h}return E};s.error=function(h){throw"Syntax error, unrecognized expression: "+
h;};var x=s.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},
leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(h){return h.getAttribute("href")}},relative:{"+":function(h,q){var t=typeof q==="string",u=t&&!/\W/.test(q);t=t&&!u;if(u)q=q.toLowerCase();u=0;for(var z=h.length,y;u<z;u++)if(y=h[u]){for(;(y=y.previousSibling)&&y.nodeType!==1;);h[u]=t||y&&y.nodeName.toLowerCase()===q?y||false:y===q}t&&s.filter(q,h,true)},">":function(h,q){var t=typeof q==="string";if(t&&!/\W/.test(q)){q=q.toLowerCase();for(var u=0,z=h.length;u<z;u++){var y=
h[u];if(y){t=y.parentNode;h[u]=t.nodeName.toLowerCase()===q?t:false}}}else{u=0;for(z=h.length;u<z;u++)if(y=h[u])h[u]=t?y.parentNode:y.parentNode===q;t&&s.filter(q,h,true)}},"":function(h,q,t){var u=e++,z=d;if(typeof q==="string"&&!/\W/.test(q)){var y=q=q.toLowerCase();z=b}z("parentNode",q,u,h,y,t)},"~":function(h,q,t){var u=e++,z=d;if(typeof q==="string"&&!/\W/.test(q)){var y=q=q.toLowerCase();z=b}z("previousSibling",q,u,h,y,t)}},find:{ID:function(h,q,t){if(typeof q.getElementById!=="undefined"&&
!t)return(h=q.getElementById(h[1]))?[h]:[]},NAME:function(h,q){if(typeof q.getElementsByName!=="undefined"){for(var t=[],u=q.getElementsByName(h[1]),z=0,y=u.length;z<y;z++)u[z].getAttribute("name")===h[1]&&t.push(u[z]);return t.length===0?null:t}},TAG:function(h,q){return q.getElementsByTagName(h[1])}},preFilter:{CLASS:function(h,q,t,u,z,y){h=" "+h[1].replace(/\\/g,"")+" ";if(y)return h;y=0;for(var E;(E=q[y])!=null;y++)if(E)if(z^(E.className&&(" "+E.className+" ").replace(/[\t\n]/g," ").indexOf(h)>=
0))t||u.push(E);else if(t)q[y]=false;return false},ID:function(h){return h[1].replace(/\\/g,"")},TAG:function(h){return h[1].toLowerCase()},CHILD:function(h){if(h[1]==="nth"){var q=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(h[2]==="even"&&"2n"||h[2]==="odd"&&"2n+1"||!/\D/.test(h[2])&&"0n+"+h[2]||h[2]);h[2]=q[1]+(q[2]||1)-0;h[3]=q[3]-0}h[0]=e++;return h},ATTR:function(h,q,t,u,z,y){q=h[1].replace(/\\/g,"");if(!y&&x.attrMap[q])h[1]=x.attrMap[q];if(h[2]==="~=")h[4]=" "+h[4]+" ";return h},PSEUDO:function(h,q,t,u,
z){if(h[1]==="not")if((f.exec(h[3])||"").length>1||/^\w/.test(h[3]))h[3]=s(h[3],null,null,q);else{h=s.filter(h[3],q,t,true^z);t||u.push.apply(u,h);return false}else if(x.match.POS.test(h[0])||x.match.CHILD.test(h[0]))return true;return h},POS:function(h){h.unshift(true);return h}},filters:{enabled:function(h){return h.disabled===false&&h.type!=="hidden"},disabled:function(h){return h.disabled===true},checked:function(h){return h.checked===true},selected:function(h){return h.selected===true},parent:function(h){return!!h.firstChild},
empty:function(h){return!h.firstChild},has:function(h,q,t){return!!s(t[3],h).length},header:function(h){return/h\d/i.test(h.nodeName)},text:function(h){return"text"===h.type},radio:function(h){return"radio"===h.type},checkbox:function(h){return"checkbox"===h.type},file:function(h){return"file"===h.type},password:function(h){return"password"===h.type},submit:function(h){return"submit"===h.type},image:function(h){return"image"===h.type},reset:function(h){return"reset"===h.type},button:function(h){return"button"===
h.type||h.nodeName.toLowerCase()==="button"},input:function(h){return/input|select|textarea|button/i.test(h.nodeName)}},setFilters:{first:function(h,q){return q===0},last:function(h,q,t,u){return q===u.length-1},even:function(h,q){return q%2===0},odd:function(h,q){return q%2===1},lt:function(h,q,t){return q<t[3]-0},gt:function(h,q,t){return q>t[3]-0},nth:function(h,q,t){return t[3]-0===q},eq:function(h,q,t){return t[3]-0===q}},filter:{PSEUDO:function(h,q,t,u){var z=q[1],y=x.filters[z];if(y)return y(h,
t,q,u);else if(z==="contains")return(h.textContent||h.innerText||a([h])||"").indexOf(q[3])>=0;else if(z==="not"){q=q[3];t=0;for(u=q.length;t<u;t++)if(q[t]===h)return false;return true}else s.error("Syntax error, unrecognized expression: "+z)},CHILD:function(h,q){var t=q[1],u=h;switch(t){case "only":case "first":for(;u=u.previousSibling;)if(u.nodeType===1)return false;if(t==="first")return true;u=h;case "last":for(;u=u.nextSibling;)if(u.nodeType===1)return false;return true;case "nth":t=q[2];var z=
q[3];if(t===1&&z===0)return true;var y=q[0],E=h.parentNode;if(E&&(E.sizcache!==y||!h.nodeIndex)){var D=0;for(u=E.firstChild;u;u=u.nextSibling)if(u.nodeType===1)u.nodeIndex=++D;E.sizcache=y}u=h.nodeIndex-z;return t===0?u===0:u%t===0&&u/t>=0}},ID:function(h,q){return h.nodeType===1&&h.getAttribute("id")===q},TAG:function(h,q){return q==="*"&&h.nodeType===1||h.nodeName.toLowerCase()===q},CLASS:function(h,q){return(" "+(h.className||h.getAttribute("class"))+" ").indexOf(q)>-1},ATTR:function(h,q){var t=
q[1];t=x.attrHandle[t]?x.attrHandle[t](h):h[t]!=null?h[t]:h.getAttribute(t);var u=t+"",z=q[2],y=q[4];return t==null?z==="!=":z==="="?u===y:z==="*="?u.indexOf(y)>=0:z==="~="?(" "+u+" ").indexOf(y)>=0:!y?u&&t!==false:z==="!="?u!==y:z==="^="?u.indexOf(y)===0:z==="$="?u.substr(u.length-y.length)===y:z==="|="?u===y||u.substr(0,y.length+1)===y+"-":false},POS:function(h,q,t,u){var z=x.setFilters[q[2]];if(z)return z(h,t,q,u)}}},C=x.match.POS,G;for(G in x.match){x.match[G]=RegExp(x.match[G].source+/(?![^\[]*\])(?![^\(]*\))/.source);
x.leftMatch[G]=RegExp(/(^(?:.|\r|\n)*?)/.source+x.match[G].source.replace(/\\(\d+)/g,function(h,q){return"\\"+(q-0+1)}))}var K=function(h,q){h=Array.prototype.slice.call(h,0);if(q){q.push.apply(q,h);return q}return h};try{Array.prototype.slice.call(B.documentElement.childNodes,0)}catch(M){K=function(h,q){var t=q||[];if(n.call(h)==="[object Array]")Array.prototype.push.apply(t,h);else if(typeof h.length==="number")for(var u=0,z=h.length;u<z;u++)t.push(h[u]);else for(u=0;h[u];u++)t.push(h[u]);return t}}var L;
if(B.documentElement.compareDocumentPosition)L=function(h,q){if(!h.compareDocumentPosition||!q.compareDocumentPosition){if(h==q)p=true;return h.compareDocumentPosition?-1:1}var t=h.compareDocumentPosition(q)&4?-1:h===q?0:1;if(t===0)p=true;return t};else if("sourceIndex"in B.documentElement)L=function(h,q){if(!h.sourceIndex||!q.sourceIndex){if(h==q)p=true;return h.sourceIndex?-1:1}var t=h.sourceIndex-q.sourceIndex;if(t===0)p=true;return t};else if(B.createRange)L=function(h,q){if(!h.ownerDocument||
!q.ownerDocument){if(h==q)p=true;return h.ownerDocument?-1:1}var t=h.ownerDocument.createRange(),u=q.ownerDocument.createRange();t.setStart(h,0);t.setEnd(h,0);u.setStart(q,0);u.setEnd(q,0);t=t.compareBoundaryPoints(Range.START_TO_END,u);if(t===0)p=true;return t};(function(){var h=B.createElement("div"),q="script"+(new Date).getTime();h.innerHTML="<a name='"+q+"'/>";var t=B.documentElement;t.insertBefore(h,t.firstChild);if(B.getElementById(q)){x.find.ID=function(u,z,y){if(typeof z.getElementById!==
"undefined"&&!y)return(z=z.getElementById(u[1]))?z.id===u[1]||typeof z.getAttributeNode!=="undefined"&&z.getAttributeNode("id").nodeValue===u[1]?[z]:k:[]};x.filter.ID=function(u,z){var y=typeof u.getAttributeNode!=="undefined"&&u.getAttributeNode("id");return u.nodeType===1&&y&&y.nodeValue===z}}t.removeChild(h);t=h=null})();(function(){var h=B.createElement("div");h.appendChild(B.createComment(""));if(h.getElementsByTagName("*").length>0)x.find.TAG=function(q,t){var u=t.getElementsByTagName(q[1]);
if(q[1]==="*"){for(var z=[],y=0;u[y];y++)u[y].nodeType===1&&z.push(u[y]);u=z}return u};h.innerHTML="<a href='#'></a>";if(h.firstChild&&typeof h.firstChild.getAttribute!=="undefined"&&h.firstChild.getAttribute("href")!=="#")x.attrHandle.href=function(q){return q.getAttribute("href",2)};h=null})();B.querySelectorAll&&function(){var h=s,q=B.createElement("div");q.innerHTML="<p class='TEST'></p>";if(!(q.querySelectorAll&&q.querySelectorAll(".TEST").length===0)){s=function(u,z,y,E){z=z||B;if(!E&&z.nodeType===
9&&!F(z))try{return K(z.querySelectorAll(u),y)}catch(D){}return h(u,z,y,E)};for(var t in h)s[t]=h[t];q=null}}();(function(){var h=B.createElement("div");h.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!h.getElementsByClassName||h.getElementsByClassName("e").length===0)){h.lastChild.className="e";if(h.getElementsByClassName("e").length!==1){x.order.splice(1,0,"CLASS");x.find.CLASS=function(q,t,u){if(typeof t.getElementsByClassName!=="undefined"&&!u)return t.getElementsByClassName(q[1])};
h=null}}})();var Q=B.compareDocumentPosition?function(h,q){return!!(h.compareDocumentPosition(q)&16)}:function(h,q){return h!==q&&(h.contains?h.contains(q):true)},F=function(h){return(h=(h?h.ownerDocument||h:0).documentElement)?h.nodeName!=="HTML":false},va=function(h,q){for(var t=[],u="",z,y=q.nodeType?[q]:q;z=x.match.PSEUDO.exec(h);){u+=z[0];h=h.replace(x.match.PSEUDO,"")}h=x.relative[h]?h+"*":h;z=0;for(var E=y.length;z<E;z++)s(h,y[z],t);return s.filter(u,t)};c.find=s;c.expr=s.selectors;c.expr[":"]=
c.expr.filters;c.unique=s.uniqueSort;c.text=a;c.isXMLDoc=F;c.contains=Q})();var eb=/Until$/,fb=/^(?:parents|prevUntil|prevAll)/,gb=/,/;ia=Array.prototype.slice;var Pa=function(a,b,d){if(c.isFunction(b))return c.grep(a,function(e,n){return!!b.call(e,n,e)===d});else if(b.nodeType)return c.grep(a,function(e){return e===b===d});else if(typeof b==="string"){var f=c.grep(a,function(e){return e.nodeType===1});if(ba.test(b))return c.filter(b,f,!d);else b=c.filter(b,f)}return c.grep(a,function(e){return c.inArray(e,
b)>=0===d})};c.fn.extend({find:function(a){for(var b=this.pushStack("","find",a),d=0,f=0,e=this.length;f<e;f++){d=b.length;c.find(a,this[f],b);if(f>0)for(var n=d;n<b.length;n++)for(var p=0;p<d;p++)if(b[p]===b[n]){b.splice(n--,1);break}}return b},has:function(a){var b=c(a);return this.filter(function(){for(var d=0,f=b.length;d<f;d++)if(c.contains(this,b[d]))return true})},not:function(a){return this.pushStack(Pa(this,a,false),"not",a)},filter:function(a){return this.pushStack(Pa(this,a,true),"filter",
a)},is:function(a){return!!a&&c.filter(a,this).length>0},closest:function(a,b){if(c.isArray(a)){var d=[],f=this[0],e,n={},p;if(f&&a.length){e=0;for(var w=a.length;e<w;e++){p=a[e];n[p]||(n[p]=c.expr.match.POS.test(p)?c(p,b||this.context):p)}for(;f&&f.ownerDocument&&f!==b;){for(p in n){e=n[p];if(e.jquery?e.index(f)>-1:c(f).is(e)){d.push({selector:p,elem:f});delete n[p]}}f=f.parentNode}}return d}var s=c.expr.match.POS.test(a)?c(a,b||this.context):null;return this.map(function(x,C){for(;C&&C.ownerDocument&&
C!==b;){if(s?s.index(C)>-1:c(C).is(a))return C;C=C.parentNode}return null})},index:function(a){if(!a||typeof a==="string")return c.inArray(this[0],a?c(a):this.parent().children());return c.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var d=typeof a==="string"?c(a,b||this.context):c.makeArray(a),f=c.merge(this.get(),d);return this.pushStack(!d[0]||!d[0].parentNode||d[0].parentNode.nodeType===11||!f[0]||!f[0].parentNode||f[0].parentNode.nodeType===11?f:c.unique(f))},andSelf:function(){return this.add(this.prevObject)}});
c.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return c.dir(a,"parentNode")},parentsUntil:function(a,b,d){return c.dir(a,"parentNode",d)},next:function(a){return c.nth(a,2,"nextSibling")},prev:function(a){return c.nth(a,2,"previousSibling")},nextAll:function(a){return c.dir(a,"nextSibling")},prevAll:function(a){return c.dir(a,"previousSibling")},nextUntil:function(a,b,d){return c.dir(a,"nextSibling",d)},prevUntil:function(a,b,d){return c.dir(a,"previousSibling",
d)},siblings:function(a){return c.sibling(a.parentNode.firstChild,a)},children:function(a){return c.sibling(a.firstChild)},contents:function(a){return c.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:c.makeArray(a.childNodes)}},function(a,b){c.fn[a]=function(d,f){var e=c.map(this,b,d);eb.test(a)||(f=d);if(f&&typeof f==="string")e=c.filter(f,e);e=this.length>1?c.unique(e):e;if((this.length>1||gb.test(f))&&fb.test(a))e=e.reverse();return this.pushStack(e,a,ia.call(arguments).join(","))}});
c.extend({filter:function(a,b,d){if(d)a=":not("+a+")";return c.find.matches(a,b)},dir:function(a,b,d){var f=[];for(a=a[b];a&&a.nodeType!==9&&(d===k||a.nodeType!==1||!c(a).is(d));){a.nodeType===1&&f.push(a);a=a[b]}return f},nth:function(a,b,d){b=b||1;for(var f=0;a;a=a[d])if(a.nodeType===1&&++f===b)break;return a},sibling:function(a,b){for(var d=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&d.push(a);return d}});var Qa=/ jQuery\d+="(?:\d+|null)"/g,ma=/^\s+/,Ra=/(<([\w:]+)[^>]*?)\/>/g,hb=/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i,
Sa=/<([\w:]+)/,ib=/<tbody/i,jb=/<|&#?\w+;/,Ba=/<script|<object|<embed|<option|<style/i,Ca=/checked\s*(?:[^=]|=\s*.checked.)/i,Ta=function(a,b,d){return hb.test(d)?a:b+"></"+d+">"},S={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,
"",""]};S.optgroup=S.option;S.tbody=S.tfoot=S.colgroup=S.caption=S.thead;S.th=S.td;if(!c.support.htmlSerialize)S._default=[1,"div<div>","</div>"];c.fn.extend({text:function(a){if(c.isFunction(a))return this.each(function(b){var d=c(this);d.text(a.call(this,b,d.text()))});if(typeof a!=="object"&&a!==k)return this.empty().append((this[0]&&this[0].ownerDocument||B).createTextNode(a));return c.text(this)},wrapAll:function(a){if(c.isFunction(a))return this.each(function(d){c(this).wrapAll(a.call(this,
d))});if(this[0]){var b=c(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var d=this;d.firstChild&&d.firstChild.nodeType===1;)d=d.firstChild;return d}).append(this)}return this},wrapInner:function(a){if(c.isFunction(a))return this.each(function(b){c(this).wrapInner(a.call(this,b))});return this.each(function(){var b=c(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){c(this).wrapAll(a)})},
unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||c(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this)});else if(arguments.length){var a=
c(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this.nextSibling)});else if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,c(arguments[0]).toArray());return a}},remove:function(a,b){for(var d=0,f;(f=this[d])!=null;d++)if(!a||c.filter(a,[f]).length){if(!b&&f.nodeType===1){c.cleanData(f.getElementsByTagName("*"));
c.cleanData([f])}f.parentNode&&f.parentNode.removeChild(f)}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&c.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a){var b=this.map(function(){if(!c.support.noCloneEvent&&!c.isXMLDoc(this)){var d=this.outerHTML,f=this.ownerDocument;if(!d){d=f.createElement("div");d.appendChild(this.cloneNode(true));d=d.innerHTML}return c.clean([d.replace(Qa,"").replace(/=([^="'>\s]+\/)>/g,
'="$1">').replace(ma,"")],f)[0]}else return this.cloneNode(true)});if(a===true){J(this,b);J(this.find("*"),b.find("*"))}return b},html:function(a){if(a===k)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Qa,""):null;else if(typeof a==="string"&&!Ba.test(a)&&(c.support.leadingWhitespace||!ma.test(a))&&!S[(Sa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ra,Ta);try{for(var b=0,d=this.length;b<d;b++)if(this[b].nodeType===1){c.cleanData(this[b].getElementsByTagName("*"));this[b].innerHTML=
a}}catch(f){this.empty().append(a)}}else c.isFunction(a)?this.each(function(e){var n=c(this),p=n.html();n.empty().append(function(){return a.call(this,e,p)})}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(c.isFunction(a))return this.each(function(b){var d=c(this),f=d.html();d.replaceWith(a.call(this,b,f))});if(typeof a!=="string")a=c(a).detach();return this.each(function(){var b=this.nextSibling,d=this.parentNode;c(this).remove();b?c(b).before(a):
c(d).append(a)})}else return this.pushStack(c(c.isFunction(a)?a():a),"replaceWith",a)},detach:function(a){return this.remove(a,true)},domManip:function(a,b,d){var f,e,n=a[0],p=[],w;if(!c.support.checkClone&&arguments.length===3&&typeof n==="string"&&Ca.test(n))return this.each(function(){c(this).domManip(a,b,d,true)});if(c.isFunction(n))return this.each(function(x){var C=c(this);a[0]=n.call(this,x,b?C.html():k);C.domManip(a,b,d)});if(this[0]){f=n&&n.parentNode;f=c.support.parentNode&&f&&f.nodeType===
11&&f.childNodes.length===this.length?{fragment:f}:N(a,this,p);w=f.fragment;if(e=w.childNodes.length===1?w=w.firstChild:w.firstChild){b=b&&c.nodeName(e,"tr");e=0;for(var s=this.length;e<s;e++)d.call(b?c.nodeName(this[e],"table")?this[e].getElementsByTagName("tbody")[0]||this[e].appendChild(this[e].ownerDocument.createElement("tbody")):this[e]:this[e],e>0||f.cacheable||this.length>1?w.cloneNode(true):w)}p.length&&c.each(p,l)}return this}});c.fragments={};c.each({appendTo:"append",prependTo:"prepend",
insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){c.fn[a]=function(d){var f=[];d=c(d);var e=this.length===1&&this[0].parentNode;if(e&&e.nodeType===11&&e.childNodes.length===1&&d.length===1){d[b](this[0]);return this}else{e=0;for(var n=d.length;e<n;e++){var p=(e>0?this.clone(true):this).get();c.fn[b].apply(c(d[e]),p);f=f.concat(p)}return this.pushStack(f,a,d.selector)}}});c.extend({clean:function(a,b,d,f){b=b||B;if(typeof b.createElement==="undefined")b=b.ownerDocument||
b[0]&&b[0].ownerDocument||B;for(var e=[],n=0,p;(p=a[n])!=null;n++){if(typeof p==="number")p+="";if(p){if(typeof p==="string"&&!jb.test(p))p=b.createTextNode(p);else if(typeof p==="string"){p=p.replace(Ra,Ta);var w=(Sa.exec(p)||["",""])[1].toLowerCase(),s=S[w]||S._default,x=s[0],C=b.createElement("div");for(C.innerHTML=s[1]+p+s[2];x--;)C=C.lastChild;if(!c.support.tbody){x=ib.test(p);w=w==="table"&&!x?C.firstChild&&C.firstChild.childNodes:s[1]==="<table>"&&!x?C.childNodes:[];for(s=w.length-1;s>=0;--s)c.nodeName(w[s],
"tbody")&&!w[s].childNodes.length&&w[s].parentNode.removeChild(w[s])}!c.support.leadingWhitespace&&ma.test(p)&&C.insertBefore(b.createTextNode(ma.exec(p)[0]),C.firstChild);p=C.childNodes}if(p.nodeType)e.push(p);else e=c.merge(e,p)}}if(d)for(n=0;e[n];n++)if(f&&c.nodeName(e[n],"script")&&(!e[n].type||e[n].type.toLowerCase()==="text/javascript"))f.push(e[n].parentNode?e[n].parentNode.removeChild(e[n]):e[n]);else{e[n].nodeType===1&&e.splice.apply(e,[n+1,0].concat(c.makeArray(e[n].getElementsByTagName("script"))));
d.appendChild(e[n])}return e},cleanData:function(a){for(var b,d,f=c.cache,e=c.event.special,n=c.support.deleteExpando,p=0,w;(w=a[p])!=null;p++)if(d=w[c.expando]){b=f[d];if(b.events)for(var s in b.events)e[s]?c.event.remove(w,s):Ja(w,s,b.handle);if(n)delete w[c.expando];else w.removeAttribute&&w.removeAttribute(c.expando);delete f[d]}}});var kb=/z-?index|font-?weight|opacity|zoom|line-?height/i,Ua=/alpha\([^)]*\)/,Va=/opacity=([^)]*)/,wa=/float/i,xa=/-([a-z])/ig,lb=/([A-Z])/g,mb=/^-?\d+(?:px)?$/i,
nb=/^-?\d/,ob={position:"absolute",visibility:"hidden",display:"block"},pb=["Left","Right"],qb=["Top","Bottom"],rb=B.defaultView&&B.defaultView.getComputedStyle,Wa=c.support.cssFloat?"cssFloat":"styleFloat",ya=function(a,b){return b.toUpperCase()};c.fn.css=function(a,b){return i(this,a,b,true,function(d,f,e){if(e===k)return c.curCSS(d,f);if(typeof e==="number"&&!kb.test(f))e+="px";c.style(d,f,e)})};c.extend({style:function(a,b,d){if(!a||a.nodeType===3||a.nodeType===8)return k;if((b==="width"||b===
"height")&&parseFloat(d)<0)d=k;var f=a.style||a,e=d!==k;if(!c.support.opacity&&b==="opacity"){if(e){f.zoom=1;b=parseInt(d,10)+""==="NaN"?"":"alpha(opacity="+d*100+")";a=f.filter||c.curCSS(a,"filter")||"";f.filter=Ua.test(a)?a.replace(Ua,b):b}return f.filter&&f.filter.indexOf("opacity=")>=0?parseFloat(Va.exec(f.filter)[1])/100+"":""}if(wa.test(b))b=Wa;b=b.replace(xa,ya);if(e)f[b]=d;return f[b]},css:function(a,b,d,f){if(b==="width"||b==="height"){var e,n=b==="width"?pb:qb;d=function(){e=b==="width"?
a.offsetWidth:a.offsetHeight;f!=="border"&&c.each(n,function(){f||(e-=parseFloat(c.curCSS(a,"padding"+this,true))||0);if(f==="margin")e+=parseFloat(c.curCSS(a,"margin"+this,true))||0;else e-=parseFloat(c.curCSS(a,"border"+this+"Width",true))||0})};a.offsetWidth!==0?d():c.swap(a,ob,d);return Math.max(0,Math.round(e))}return c.curCSS(a,b,d)},curCSS:function(a,b,d){var f,e=a.style;if(!c.support.opacity&&b==="opacity"&&a.currentStyle){f=Va.test(a.currentStyle.filter||"")?parseFloat(RegExp.$1)/100+"":
"";return f===""?"1":f}if(wa.test(b))b=Wa;if(!d&&e&&e[b])f=e[b];else if(rb){if(wa.test(b))b="float";b=b.replace(lb,"-$1").toLowerCase();e=a.ownerDocument.defaultView;if(!e)return null;if(a=e.getComputedStyle(a,null))f=a.getPropertyValue(b);if(b==="opacity"&&f==="")f="1"}else if(a.currentStyle){d=b.replace(xa,ya);f=a.currentStyle[b]||a.currentStyle[d];if(!mb.test(f)&&nb.test(f)){b=e.left;var n=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;e.left=d==="fontSize"?"1em":f||0;f=e.pixelLeft+
"px";e.left=b;a.runtimeStyle.left=n}}return f},swap:function(a,b,d){var f={},e;for(e in b){f[e]=a.style[e];a.style[e]=b[e]}d.call(a);for(e in b)a.style[e]=f[e]}});if(c.expr&&c.expr.filters){c.expr.filters.hidden=function(a){var b=a.offsetWidth,d=a.offsetHeight,f=a.nodeName.toLowerCase()==="tr";return b===0&&d===0&&!f?true:b>0&&d>0&&!f?false:c.curCSS(a,"display")==="none"};c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)}}var sb=j(),tb=/<script(.|\s)*?\/script>/gi,ub=/select|textarea/i,
vb=/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i,ea=/=\?(&|$)/,za=/\?/,wb=/(\?|&)_=.*?(&|$)/,xb=/^(\w+:)?\/\/([^\/?#]+)/,yb=/%20/g,zb=c.fn.load;c.fn.extend({load:function(a,b,d){if(typeof a!=="string")return zb.call(this,a);else if(!this.length)return this;var f=a.indexOf(" ");if(f>=0){var e=a.slice(f,a.length);a=a.slice(0,f)}f="GET";if(b)if(c.isFunction(b)){d=b;b=null}else if(typeof b==="object"){b=c.param(b,c.ajaxSettings.traditional);f="POST"}var n=
this;c.ajax({url:a,type:f,dataType:"html",data:b,complete:function(p,w){if(w==="success"||w==="notmodified")n.html(e?c("<div />").append(p.responseText.replace(tb,"")).find(e):p.responseText);d&&n.each(d,[p.responseText,w,p])}});return this},serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ub.test(this.nodeName)||
vb.test(this.type))}).map(function(a,b){var d=c(this).val();return d==null?null:c.isArray(d)?c.map(d,function(f){return{name:b.name,value:f}}):{name:b.name,value:d}}).get()}});c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){c.fn[b]=function(d){return this.bind(b,d)}});c.extend({get:function(a,b,d,f){if(c.isFunction(b)){f=f||d;d=b;b=null}return c.ajax({type:"GET",url:a,data:b,success:d,dataType:f})},getScript:function(a,b){return c.get(a,null,b,"script")},
getJSON:function(a,b,d){return c.get(a,b,d,"json")},post:function(a,b,d,f){if(c.isFunction(b)){f=f||d;d=b;b={}}return c.ajax({type:"POST",url:a,data:b,success:d,dataType:f})},ajaxSetup:function(a){c.extend(c.ajaxSettings,a)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:r.XMLHttpRequest&&(r.location.protocol!=="file:"||!r.ActiveXObject)?function(){return new r.XMLHttpRequest}:function(){try{return new r.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}},
accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(a){function b(){e.success&&e.success.call(s,w,p,F);e.global&&f("ajaxSuccess",[F,e])}function d(){e.complete&&e.complete.call(s,F,p);e.global&&f("ajaxComplete",[F,e]);e.global&&!--c.active&&c.event.trigger("ajaxStop")}function f(z,y){(e.context?c(e.context):c.event).trigger(z,y)}var e=
c.extend(true,{},c.ajaxSettings,a),n,p,w,s=a&&a.context||e,x=e.type.toUpperCase();if(e.data&&e.processData&&typeof e.data!=="string")e.data=c.param(e.data,e.traditional);if(e.dataType==="jsonp"){if(x==="GET")ea.test(e.url)||(e.url+=(za.test(e.url)?"&":"?")+(e.jsonp||"callback")+"=?");else if(!e.data||!ea.test(e.data))e.data=(e.data?e.data+"&":"")+(e.jsonp||"callback")+"=?";e.dataType="json"}if(e.dataType==="json"&&(e.data&&ea.test(e.data)||ea.test(e.url))){n=e.jsonpCallback||"jsonp"+sb++;if(e.data)e.data=
(e.data+"").replace(ea,"="+n+"$1");e.url=e.url.replace(ea,"="+n+"$1");e.dataType="script";r[n]=r[n]||function(z){w=z;b();d();r[n]=k;try{delete r[n]}catch(y){}K&&K.removeChild(M)}}if(e.dataType==="script"&&e.cache===null)e.cache=false;if(e.cache===false&&x==="GET"){var C=j(),G=e.url.replace(wb,"$1_="+C+"$2");e.url=G+(G===e.url?(za.test(e.url)?"&":"?")+"_="+C:"")}if(e.data&&x==="GET")e.url+=(za.test(e.url)?"&":"?")+e.data;e.global&&!c.active++&&c.event.trigger("ajaxStart");C=(C=xb.exec(e.url))&&(C[1]&&
C[1]!==location.protocol||C[2]!==location.host);if(e.dataType==="script"&&x==="GET"&&C){var K=B.getElementsByTagName("head")[0]||B.documentElement,M=B.createElement("script");M.src=e.url;if(e.scriptCharset)M.charset=e.scriptCharset;if(!n){var L=false;M.onload=M.onreadystatechange=function(){if(!L&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){L=true;b();d();M.onload=M.onreadystatechange=null;K&&M.parentNode&&K.removeChild(M)}}}K.insertBefore(M,K.firstChild);return k}var Q=
false,F=e.xhr();if(F){e.username?F.open(x,e.url,e.async,e.username,e.password):F.open(x,e.url,e.async);try{if(e.data||a&&a.contentType)F.setRequestHeader("Content-Type",e.contentType);if(e.ifModified){c.lastModified[e.url]&&F.setRequestHeader("If-Modified-Since",c.lastModified[e.url]);c.etag[e.url]&&F.setRequestHeader("If-None-Match",c.etag[e.url])}C||F.setRequestHeader("X-Requested-With","XMLHttpRequest");F.setRequestHeader("Accept",e.dataType&&e.accepts[e.dataType]?e.accepts[e.dataType]+", */*":
e.accepts._default)}catch(va){}if(e.beforeSend&&e.beforeSend.call(s,F,e)===false){e.global&&!--c.active&&c.event.trigger("ajaxStop");F.abort();return false}e.global&&f("ajaxSend",[F,e]);var h=F.onreadystatechange=function(z){if(!F||F.readyState===0||z==="abort"){Q||d();Q=true;if(F)F.onreadystatechange=c.noop}else if(!Q&&F&&(F.readyState===4||z==="timeout")){Q=true;F.onreadystatechange=c.noop;p=z==="timeout"?"timeout":!c.httpSuccess(F)?"error":e.ifModified&&c.httpNotModified(F,e.url)?"notmodified":
"success";var y;if(p==="success")try{w=c.httpData(F,e.dataType,e)}catch(E){p="parsererror";y=E}if(p==="success"||p==="notmodified")n||b();else c.handleError(e,F,p,y);d();z==="timeout"&&F.abort();if(e.async)F=null}};try{var q=F.abort;F.abort=function(){F&&q.call(F);h("abort")}}catch(t){}e.async&&e.timeout>0&&setTimeout(function(){F&&!Q&&h("timeout")},e.timeout);try{F.send(x==="POST"||x==="PUT"||x==="DELETE"?e.data:null)}catch(u){c.handleError(e,F,null,u);d()}e.async||h();return F}},handleError:function(a,
b,d,f){if(a.error)a.error.call(a.context||a,b,d,f);if(a.global)(a.context?c(a.context):c.event).trigger("ajaxError",[b,a,f])},active:0,httpSuccess:function(a){try{return!a.status&&location.protocol==="file:"||a.status>=200&&a.status<300||a.status===304||a.status===1223||a.status===0}catch(b){}return false},httpNotModified:function(a,b){var d=a.getResponseHeader("Last-Modified"),f=a.getResponseHeader("Etag");if(d)c.lastModified[b]=d;if(f)c.etag[b]=f;return a.status===304||a.status===0},httpData:function(a,
b,d){var f=a.getResponseHeader("content-type")||"",e=b==="xml"||!b&&f.indexOf("xml")>=0;a=e?a.responseXML:a.responseText;e&&a.documentElement.nodeName==="parsererror"&&c.error("parsererror");if(d&&d.dataFilter)a=d.dataFilter(a,b);if(typeof a==="string")if(b==="json"||!b&&f.indexOf("json")>=0)a=c.parseJSON(a);else if(b==="script"||!b&&f.indexOf("javascript")>=0)c.globalEval(a);return a},param:function(a,b){function d(p,w){if(c.isArray(w))c.each(w,function(s,x){b||/\[\]$/.test(p)?f(p,x):d(p+"["+(typeof x===
"object"||c.isArray(x)?s:"")+"]",x)});else!b&&w!=null&&typeof w==="object"?c.each(w,function(s,x){d(p+"["+s+"]",x)}):f(p,w)}function f(p,w){w=c.isFunction(w)?w():w;e[e.length]=encodeURIComponent(p)+"="+encodeURIComponent(w)}var e=[];if(b===k)b=c.ajaxSettings.traditional;if(c.isArray(a)||a.jquery)c.each(a,function(){f(this.name,this.value)});else for(var n in a)d(n,a[n]);return e.join("&").replace(yb,"+")}});var Aa={},Ab=/toggle|show|hide/,Bb=/^([+-]=)?([\d+-.]+)(.*)$/,na,Da=[["height","marginTop",
"marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];c.fn.extend({show:function(a,b){if(a||a===0)return this.animate(O("show",3),a,b);else{for(var d=0,f=this.length;d<f;d++){var e=c.data(this[d],"olddisplay");this[d].style.display=e||"";if(c.css(this[d],"display")==="none"){e=this[d].nodeName;var n;if(Aa[e])n=Aa[e];else{var p=c("<"+e+" />").appendTo("body");n=p.css("display");if(n==="none")n="block";p.remove();Aa[e]=n}c.data(this[d],
"olddisplay",n)}}d=0;for(f=this.length;d<f;d++)this[d].style.display=c.data(this[d],"olddisplay")||"";return this}},hide:function(a,b){if(a||a===0)return this.animate(O("hide",3),a,b);else{for(var d=0,f=this.length;d<f;d++){var e=c.data(this[d],"olddisplay");!e&&e!=="none"&&c.data(this[d],"olddisplay",c.css(this[d],"display"))}d=0;for(f=this.length;d<f;d++)this[d].style.display="none";return this}},_toggle:c.fn.toggle,toggle:function(a,b){var d=typeof a==="boolean";if(c.isFunction(a)&&c.isFunction(b))this._toggle.apply(this,
arguments);else a==null||d?this.each(function(){var f=d?a:c(this).is(":hidden");c(this)[f?"show":"hide"]()}):this.animate(O("toggle",3),a,b);return this},fadeTo:function(a,b,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,d)},animate:function(a,b,d,f){var e=c.speed(b,d,f);if(c.isEmptyObject(a))return this.each(e.complete);return this[e.queue===false?"each":"queue"](function(){var n=c.extend({},e),p,w=this.nodeType===1&&c(this).is(":hidden"),s=this;for(p in a){var x=
p.replace(xa,ya);if(p!==x){a[x]=a[p];delete a[p];p=x}if(a[p]==="hide"&&w||a[p]==="show"&&!w)return n.complete.call(this);if((p==="height"||p==="width")&&this.style){n.display=c.css(this,"display");n.overflow=this.style.overflow}if(c.isArray(a[p])){(n.specialEasing=n.specialEasing||{})[p]=a[p][1];a[p]=a[p][0]}}if(n.overflow!=null)this.style.overflow="hidden";n.curAnim=c.extend({},a);c.each(a,function(C,G){var K=new c.fx(s,n,C);if(Ab.test(G))K[G==="toggle"?w?"show":"hide":G](a);else{var M=Bb.exec(G),
L=K.cur(true)||0;if(M){var Q=parseFloat(M[2]),F=M[3]||"px";if(F!=="px"){s.style[C]=(Q||1)+F;L=(Q||1)/K.cur(true)*L;s.style[C]=L+F}if(M[1])Q=(M[1]==="-="?-1:1)*Q+L;K.custom(L,Q,F)}else K.custom(L,G,"")}});return true})},stop:function(a,b){var d=c.timers;a&&this.queue([]);this.each(function(){for(var f=d.length-1;f>=0;f--)if(d[f].elem===this){b&&d[f](true);d.splice(f,1)}});b||this.dequeue();return this}});c.each({slideDown:O("show",1),slideUp:O("hide",1),slideToggle:O("toggle",1),fadeIn:{opacity:"show"},
fadeOut:{opacity:"hide"}},function(a,b){c.fn[a]=function(d,f){return this.animate(b,d,f)}});c.extend({speed:function(a,b,d){var f=a&&typeof a==="object"?a:{complete:d||!d&&b||c.isFunction(a)&&a,duration:a,easing:d&&b||b&&!c.isFunction(b)&&b};f.duration=c.fx.off?0:typeof f.duration==="number"?f.duration:c.fx.speeds[f.duration]||c.fx.speeds._default;f.old=f.complete;f.complete=function(){f.queue!==false&&c(this).dequeue();c.isFunction(f.old)&&f.old.call(this)};return f},easing:{linear:function(a,b,
d,f){return d+f*a},swing:function(a,b,d,f){return(-Math.cos(a*Math.PI)/2+0.5)*f+d}},timers:[],fx:function(a,b,d){this.options=b;this.elem=a;this.prop=d;if(!b.orig)b.orig={}}});c.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(c.fx.step[this.prop]||c.fx.step._default)(this);if((this.prop==="height"||this.prop==="width")&&this.elem.style)this.elem.style.display="block"},cur:function(a){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==
null))return this.elem[this.prop];return(a=parseFloat(c.css(this.elem,this.prop,a)))&&a>-1E4?a:parseFloat(c.curCSS(this.elem,this.prop))||0},custom:function(a,b,d){function f(n){return e.step(n)}this.startTime=j();this.start=a;this.end=b;this.unit=d||this.unit||"px";this.now=this.start;this.pos=this.state=0;var e=this;f.elem=this.elem;if(f()&&c.timers.push(f)&&!na)na=setInterval(c.fx.tick,13)},show:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop===
"width"||this.prop==="height"?1:0,this.cur());c(this.elem).show()},hide:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(a){var b=j(),d=true;if(a||b>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var f in this.options.curAnim)if(this.options.curAnim[f]!==true)d=false;if(d){if(this.options.display!=null){this.elem.style.overflow=
this.options.overflow;a=c.data(this.elem,"olddisplay");this.elem.style.display=a?a:this.options.display;if(c.css(this.elem,"display")==="none")this.elem.style.display="block"}this.options.hide&&c(this.elem).hide();if(this.options.hide||this.options.show)for(var e in this.options.curAnim)c.style(this.elem,e,this.options.orig[e]);this.options.complete.call(this.elem)}return false}else{e=b-this.startTime;this.state=e/this.options.duration;a=this.options.easing||(c.easing.swing?"swing":"linear");this.pos=
c.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||a](this.state,e,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update()}return true}};c.extend(c.fx,{tick:function(){for(var a=c.timers,b=0;b<a.length;b++)a[b]()||a.splice(b--,1);a.length||c.fx.stop()},stop:function(){clearInterval(na);na=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){c.style(a.elem,"opacity",a.now)},_default:function(a){if(a.elem.style&&a.elem.style[a.prop]!=
null)a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit;else a.elem[a.prop]=a.now}}});if(c.expr&&c.expr.filters)c.expr.filters.animated=function(a){return c.grep(c.timers,function(b){return a===b.elem}).length};c.fn.offset="getBoundingClientRect"in B.documentElement?function(a){var b=this[0];if(a)return this.each(function(e){c.offset.setOffset(this,a,e)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);var d=b.getBoundingClientRect(),
f=b.ownerDocument;b=f.body;f=f.documentElement;return{top:d.top+(self.pageYOffset||c.support.boxModel&&f.scrollTop||b.scrollTop)-(f.clientTop||b.clientTop||0),left:d.left+(self.pageXOffset||c.support.boxModel&&f.scrollLeft||b.scrollLeft)-(f.clientLeft||b.clientLeft||0)}}:function(a){var b=this[0];if(a)return this.each(function(x){c.offset.setOffset(this,a,x)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);c.offset.initialize();var d=b.offsetParent,f=
b.ownerDocument,e,n=f.documentElement,p=f.body;e=(f=f.defaultView)?f.getComputedStyle(b,null):b.currentStyle;for(var w=b.offsetTop,s=b.offsetLeft;(b=b.parentNode)&&b!==p&&b!==n;){if(c.offset.supportsFixedPosition&&e.position==="fixed")break;e=f?f.getComputedStyle(b,null):b.currentStyle;w-=b.scrollTop;s-=b.scrollLeft;if(b===d){w+=b.offsetTop;s+=b.offsetLeft;if(c.offset.doesNotAddBorder&&!(c.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(b.nodeName))){w+=parseFloat(e.borderTopWidth)||0;
s+=parseFloat(e.borderLeftWidth)||0}d=b.offsetParent}if(c.offset.subtractsBorderForOverflowNotVisible&&e.overflow!=="visible"){w+=parseFloat(e.borderTopWidth)||0;s+=parseFloat(e.borderLeftWidth)||0}e=e}if(e.position==="relative"||e.position==="static"){w+=p.offsetTop;s+=p.offsetLeft}if(c.offset.supportsFixedPosition&&e.position==="fixed"){w+=Math.max(n.scrollTop,p.scrollTop);s+=Math.max(n.scrollLeft,p.scrollLeft)}return{top:w,left:s}};c.offset={initialize:function(){var a=B.body,b=B.createElement("div"),
d,f,e,n=parseFloat(c.curCSS(a,"marginTop",true))||0;c.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});b.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.insertBefore(b,a.firstChild);
d=b.firstChild;f=d.firstChild;e=d.nextSibling.firstChild.firstChild;this.doesNotAddBorder=f.offsetTop!==5;this.doesAddBorderForTableAndCells=e.offsetTop===5;f.style.position="fixed";f.style.top="20px";this.supportsFixedPosition=f.offsetTop===20||f.offsetTop===15;f.style.position=f.style.top="";d.style.overflow="hidden";d.style.position="relative";this.subtractsBorderForOverflowNotVisible=f.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==n;a.removeChild(b);c.offset.initialize=c.noop},
bodyOffset:function(a){var b=a.offsetTop,d=a.offsetLeft;c.offset.initialize();if(c.offset.doesNotIncludeMarginInBodyOffset){b+=parseFloat(c.curCSS(a,"marginTop",true))||0;d+=parseFloat(c.curCSS(a,"marginLeft",true))||0}return{top:b,left:d}},setOffset:function(a,b,d){if(/static/.test(c.curCSS(a,"position")))a.style.position="relative";var f=c(a),e=f.offset(),n=parseInt(c.curCSS(a,"top",true),10)||0,p=parseInt(c.curCSS(a,"left",true),10)||0;if(c.isFunction(b))b=b.call(a,d,e);d={top:b.top-e.top+n,left:b.left-
e.left+p};"using"in b?b.using.call(a,d):f.css(d)}};c.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),d=this.offset(),f=/^body|html$/i.test(b[0].nodeName)?{top:0,left:0}:b.offset();d.top-=parseFloat(c.curCSS(a,"marginTop",true))||0;d.left-=parseFloat(c.curCSS(a,"marginLeft",true))||0;f.top+=parseFloat(c.curCSS(b[0],"borderTopWidth",true))||0;f.left+=parseFloat(c.curCSS(b[0],"borderLeftWidth",true))||0;return{top:d.top-f.top,left:d.left-f.left}},offsetParent:function(){return this.map(function(){for(var a=
this.offsetParent||B.body;a&&!/^body|html$/i.test(a.nodeName)&&c.css(a,"position")==="static";)a=a.offsetParent;return a})}});c.each(["Left","Top"],function(a,b){var d="scroll"+b;c.fn[d]=function(f){var e=this[0],n;if(!e)return null;if(f!==k)return this.each(function(){if(n=U(this))n.scrollTo(!a?f:c(n).scrollLeft(),a?f:c(n).scrollTop());else this[d]=f});else return(n=U(e))?"pageXOffset"in n?n[a?"pageYOffset":"pageXOffset"]:c.support.boxModel&&n.document.documentElement[d]||n.document.body[d]:e[d]}});
c.each(["Height","Width"],function(a,b){var d=b.toLowerCase();c.fn["inner"+b]=function(){return this[0]?c.css(this[0],d,false,"padding"):null};c.fn["outer"+b]=function(f){return this[0]?c.css(this[0],d,false,f?"margin":"border"):null};c.fn[d]=function(f){var e=this[0];if(!e)return f==null?null:this;if(c.isFunction(f))return this.each(function(n){var p=c(this);p[d](f.call(this,n,p[d]()))});return"scrollTo"in e&&e.document?e.document.compatMode==="CSS1Compat"&&e.document.documentElement["client"+b]||
e.document.body["client"+b]:e.nodeType===9?Math.max(e.documentElement["client"+b],e.body["scroll"+b],e.documentElement["scroll"+b],e.body["offset"+b],e.documentElement["offset"+b]):f===k?c.css(e,d):this.css(d,typeof f==="string"?f:f+"px")}});r.jQuery=r.$=c})(window);(function(r){var k={};r.publish=function(o,l){k[o]&&r.each(k[o],function(){this.apply(r,l||[])})};r.subscribe=function(o,l){k[o]||(k[o]=[]);k[o].push(l);return[o,l]};r.unsubscribe=function(o){var l=o[0];k[l]&&r.each(k[l],function(i){this==o[1]&&k[l].splice(i,1)})}})(jQuery);(function(r){r.vegas.module.register("console.js")})(this);(function(){var r=function(){return this}.call().vegas;r.init={initObjects:[],init:function(){for(var k=this.initObjects,o=k.length,l=0;l<o;l++)k[l].init.call(k[l]);r.utils.triggerReady();r.trigger("ready")},register:function(k){this.initObjects.push(k)}};r.module.register("init.js")})();(function(){var r=function(){return this}.call(),k=r.vegas,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),l=/^([0-9]|[1-9][0-9]|100)\%$/,i=/^[0-9]+$/,j=/^-?((\b[0-9]+)?\.)?[0-9]+\b$/;k.on=jQuery.subscribe;k.hook=jQuery.subscribe;jQuery.fn.outer=function(){return $($("<div></div>").html(this.clone())).html()};k.trigger=jQuery.publish;k.utils={extend:r.jQuery.extend,tpl_cache:{},publish:jQuery.publish,subscribe:jQuery.subscribe,unsubscribe:jQuery.unsubscribe,on:jQuery.subscribe,
trigger:jQuery.publish,hook:jQuery.subscribe,triggerHook:jQuery.publish,registerHook:function(){},bind:function(g,m,v){r.jQuery(g).bind(m,function(A){v(A)})},unbind:function(g,m,v){r.jQuery(g).unbind(m,v)},offset:function(g){return r.jQuery(g).offset()},querySelector:function(g,m){m=m||document;return this.normalizeCollection(jQuery(g,m))},css:function(g,m,v){jQuery(g).css(m,v)},hasClass:function(g,m){return jQuery(g).hasClass(m)},addClass:function(g,m){jQuery(g).addClass(m)},elementRemove:function(g){jQuery(g).remove()},
elementClone:function(g){return jQuery(g).clone()[0]},elementSiblings:function(g){return this.normalizeCollection(jQuery(g).siblings())},elementChildren:function(g){return this.normalizeCollection(jQuery(g).children())},elementOffset:function(g){return jQuery(g).offset()},elementHeight:function(g){return jQuery(g).height()},elementWidth:function(g){return jQuery(g).width()},_onReadyDo:[],registerKey:function(g,m,v){var A,H,J,N;if(typeof g=="object")jQuery(document).bind("keydown",A,function(O){A=
m;H=v;J=g.entity;console.log("context",g);N=k.session.state["active"+J];g.entity==N.entity&&H(O)});else if(typeof g=="string"){A=g;H=m;jQuery(document).bind("keydown",A,function(O){H(O)})}},normalizeCollection:function(g){for(var m=[],v=0;v<g.length;v++)m.push(g[v]);return m},registerKeySequence:function(){},takeTextInput:function(g){r.jQuery(document).bind("keypress",function(m){var v=m.charCode;if(v>=32&&v<=126){m=String.fromCharCode(m.charCode);g(m)}})},isArray:function(g){return Object.prototype.toString.call(g)===
"[object Array]"},onResize:function(g,m){r.jQuery(g).bind("resize",m)},cleanStrokeRect:function(g,m,v,A,H){var J=g.lineWidth;g.fillRect(m,v,A,J);g.fillRect(m+A-J,v,J,H);g.fillRect(m,v+H-J,A,J);g.fillRect(m,v+J,J,H-J)},tmpl:function g(m,v){var A=!/\W/.test(m)?this.tpl_cache[m]=this.tpl_cache[m]||g(document.getElementById(m).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+m.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,
"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return v?A(v):A},makeObject:function(g,m,v){typeof g!=="object"&&k.error("bad param: self");typeof m.callee!=="function"&&k.error("bad param: args");if(g instanceof m.callee){typeof v==="function"&&k.utils.extend(g,new v);return true}else{k.error("This method must be instantiated via the new operator.");return false}},getElementObject:function(g){g=jQuery(g);
return g.data("object")},getObjectInfoFromString:function(g){var m=this.trim(g).split("."),v=m.pop();m=m.join(".");m=k.utils.getObjectPropertyFromString(m);g=k.utils.getObjectPropertyFromString(g);if(m===false)m=r;return{key:v,value:g,hostObject:m}},getObjectPropertyFromString:function(g,m){var v=k.ns;if(g===v)return k;if(g.indexOf(v)===0)g=g.substr(v.length+1);v=g.split(".");var A;A=m||k;if(g=="")return false;for(var H=0;H<v.length;H++){A=A[v[H]];if(typeof A!=="undefined")if(typeof A=="object")A=
A;else{A=A;break}else return false}return A},getUniqueId:function(){for(var g=Array(36),m=0,v,A=0;A<36;A++)if(A==8||A==13||A==18||A==23)g[A]="_";else if(A==14)g[A]="4";else{if(m<=2)m=33554432+Math.random()*16777216|0;v=m&15;m>>=4;g[A]=o[A==19?v&3|8:v]}return g.join("")},isXyInArea:function(g,m,v,A){A=A||{x:0,y:0};var H=A.x,J=A.y;A=v.x+v.width+H;var N=v.y+J;J=v.y+v.height+J;return g>=v.x+H&&g<=A&&m>=N&&m<=J?true:false},onReady:function(g){this._onReadyDo.push(g)},triggerReady:function(){for(var g=
this._onReadyDo,m=0;m<g.length;m++)g[m]()},onMouseDownInArea:function(g,m,v){jQuery("body").bind("mousedown",function(A){console.log(A.clientX,A.clientY,m);k.utils.isXyInArea(A.clientX,A.clientY,m)&&v(A)})},onClickInArea:function(g,m,v){jQuery(document).bind("click",function(A){k.utils.isXyInArea(A.clientX,A.clientY,m)&&v(A)})},array_search:function(g,m,v){v=!!v;var A="";for(A in m)if(v&&m[A]===g||!v&&m[A]==g)return A*1;return false},isInteger:function(g){return j.test(g)},ensureInteger:function(g){if(j.test(g))return g*
1;else{console.log("Invalid integer provided");console.trace();return false}},isNumber:function(g){return i.test(g)?true:false},ensureIntegerNumber:function(g){if(i.test(g))return g*1;else{console.log("Invalid whole number provided");console.trace();return false}},isPercentage:function(g){return l.test(g)},getPercentValue:function(g,m){var v;m=m||100;v=g.split("%");return Math.floor(v[0]*1/100*m)},trim:jQuery.trim,api:[this.somePublicMethod]};k.utils.ObjectCollection=function(g,m){k.utils.makeObject(this,
arguments);this.length=0;this.hash={};this.trackHash=m||true;g&&this.add(g);return this};k.utils.ObjectCollection.prototype={push:Array.prototype.push,pop:Array.prototype.pop,slice:Array.prototype.slice,splice:Array.prototype.splice,shift:Array.prototype.shift,unshift:Array.prototype.unshift,sort:Array.prototype.sort,reverse:Array.prototype.reverse,concat:Array.prototype.concat,add:function(g,m){m=m===undefined?this.length:m;g.length||(g=[g]);for(var v,A=0;A<g.length;A++){v=g[A];this.splice(m+A,0,
v);if(this.trackHash)this.hash[v.id]=v}},getObjectPosition:function(g){var m=this.length;if(this.trackHash)for(var v=0;v<m;v++){if(this[v].id===g.id)return v}else for(v=0;v<m;v++)if(this[v]===g)return v;return false},remove:function(g){var m,v;g.length||(g=[g]);for(var A=0;A<g.length;A++){v=g[A];m=this.getObjectPosition(v);if(m!==false){this.splice(m,1);this.trackHash&&delete this.hash[v.id]}else return false}return true},move:function(g,m){this.splice(this.getObjectPosition(g),1);this.splice(m,0,
g)},replace:function(g){g.length||(g=[g]);for(var m=g.length,v=0;v<m;v++)this.add(g[v],v);this.remove(this.slice(v));return this}};jQuery.fn.getElementObject=k.utils.getElementObject;k.module.register("utils.js")})();(function(r){var k=r.vegas,o=k.settings.layoutManager||{};k.gui=function(){var l={init:function(){var i=this;jQuery(window).load(function(){var j=i.insertApplicationRegion();j=new k.RegionPair("horizontal",j);var g=new k.RegionPair("vertical",j[0]),m=new k.RegionPair("horizontal",g[0]),v=new k.RegionPair("vertical",g[1]);console.info("Created Regions: ",j,g,m,v);g=new k.EditArea({title:"editarea 1"},v[0]);v=new k.EditArea({title:"editarea 2"},v[1]);var A=new k.EditArea({title:"editarea 3"},m[0]);
m=new k.EditArea({title:"editarea 4"},m[1]);console.info("created EditAreas",g,v,A,m);m=new k.CommandBar({title:"command bar1"},j[1]);g=new k.CommandBar({title:"command bar2"},j[1]);v=new k.CommandBar({title:"command bar3"},j[1]);A=new k.CommandBar({title:"command bar4"},j[1]);j=new k.CommandBar({title:"command bar5"},j[1]);console.info("created CommandBars",m,g,v,A,j)})},debugRegions:function(){for(var i=k.regions,j=i.length,g=0;g<j;g++){var m=i[g];if(m.orientation=="horizontal"||m.orientation==
"vertical")jQuery(m.element).css("background-color","#"+Math.round(16777215*Math.random()).toString(16))}},insertMarkup:function(i,j){return jQuery(i).html(j).children()},results:function(i){for(var j=this.length,g=i.length,m=0;m<g;m++)this[m]=i[m];if(g<j)for(i=j-g;i;){delete this[i];i--}this.length=g;return this},insertApplicationRegion:function(){var i=new k.Region("application",false,null,false),j=jQuery(document.body).html('<div class="application region" id="'+i.id+'"></div>').children();i.element=
j;j.data("object",i);k.regions.add(i);return i},attachEvents:function(){k.tabs.hook("mousedown",function(i){var j=i.getView();k.hook("mousemove",function(g){o.view.showMovement&&j.showMovement(g.clientX,g.clientY)});k.hook("mouseup",function(g){(g=k.region.getRegionOfElement(g.target))?j.attachToRegion(g):k.log("no region found")});k.regions.hook("mouseenter",function(g){var m=k.utils.getObjectFromElement("region",g.target);m.visualizeTarget();m.hook("mouseleave",function(){m.unVisualizeTarget()})})})}};
k.init.register(l);return l}();k.module.register("gui.js")})(this);(function(){var r=function(){return this}.call().vegas;r.session=function(){var k={state:{},init:function(){},createSession:function(){var o=new r.EditArea({name:"Edit Area 2"}),l=new r.EditArea({name:"Edit Area 2"});o=new r.Region({width:"100%",height:"100%",x:0,y:0,contents:[o,l]});l=new r.CommandBar({width:"100%",height:"25",x:0,y:0});l=[new r.View({primary:true,context:r.view.getCurrentWindow(),regionList:[o,l]})];this.state={activeView:l[0],activeRegion:o,views:l}},close:function(){},save:function(){},
saveAs:function(){},restore:function(){},api:[this.init,this.close,this.save,this.saveAs,this.restore]};r.init.register(k);return k}();r.module.register("session.js")})();(function(){var r=function(){return this}.call().vegas;r.application=function(){r.SPADE=String.fromCharCode(9824);var k={init:function(){if(typeof Titanium=="undefined")return false;this.setDefaultTitle()},setDefaultTitle:function(){this.setTitle("Veg"+r.SPADE+"s")},setTitle:function(o){Titanium.UI.getMainWindow().setTitle(o)},reload:function(){window.location="/index.html?"+ +new Date},getFreshCopy:function(){var o=Titanium.Filesystem.getFile("./src"),l=Titanium.Filesystem.getResourcesDirectory();
Titanium.Filesystem.getApplicationDirectory();l.deleteDirectory(true);o.copy(l.toString())},getFreshCopyAndReload:function(){this.getFreshCopy();this.reload()},toggleMaximize:function(){Titanium.UI.getMainWindow().isMaximized()?Titanium.UI.getMainWindow().unmaximize():Titanium.UI.getMainWindow().maximize()},toggleFullScreen:function(){Titanium.UI.getMainWindow().isFullscreen()?Titanium.UI.getMainWindow().setFullScreen(false):Titanium.UI.getMainWindow().setFullScreen(true)},increaseTransparency:function(){var o=
Titanium.UI.getMainWindow().getTransparency();if(o<1){o+=0.025;Titanium.UI.getMainWindow().setTransparency(o)}},decreaseTransparency:function(){var o=Titanium.UI.getMainWindow().getTransparency();if(o>0){o-=0.025;Titanium.UI.getMainWindow().setTransparency(o)}},errorStop:function(){},quit:function(){r.application.exit()},exit:function(){Titanium.App.exit()}};r.init.register(k);return k}();r.module.register("application.js")})();(function(){var r=function(){return this}.call(),k=r.vegas;k.paint=function(){var o={painters:[],init:function(){this.painters=[]},paint:function(l){l=l||k.session.state.activeView;console.trace();l.ctx.textBaseline="bottom";l.ctx.lineWidth="1";k.region.paint(l);k.command.paint(l)},startPaint:function(l){var i=this,j=k.options.application.masterPaintInterval;l=l||k.session.state.activeView;i.paint(l);l.paintId=r.setInterval(function(){i.paint(l)},j);i.stopPaint()},stopPaint:function(l){l=l||k.session.state.activeView;
r.clearInterval(l.paintId)},registerPainter:function(l){this.painters.push(l)},api:[this.somePublicMethod]};k.init.register(o);return o}();k.module.register("paint.js")})();(function(){var r=function(){return this}.call(),k=r.vegas,o=k.session,l=k.utils;k.View=function(){var i=function(){l.makeObject(this,arguments);this.entity="View"};i.prototype={init:function(j){l.extend(this,j);this.setupWindow()},setupWindow:function(){this.context.name=l.getUniqueId()},setupViewPort:function(){var j=r.document.body.style;j.margin="0";j.padding="0";j.backgroundColor=k.settings.backgroundColor;try{this.canvas=this.context.document.getElementById("commandBar");this.ctx=this.canvas.getContext("2d")}catch(g){console.error("could not get the canvas object.");
k.terminate();return false}this.canvas.style.position="fixed";this.canvas.style.backgroundColor=k.settings.backgroundColor;k.view.setArea(this)},remove:function(){},moveTo:function(){},api:[this.create,this.remove,this.moveTo,this.getWindow]};return i}();k.view=function(){var i={panes:[],init:function(){},attachEvents:function(){var j=this,g=j.getCurrentWindow();l.onResize(g,function(){i=j.getViewFromWindow(g);j.setArea(i);k.region.reflow(i);l.publish("reflow");k.paint.paint()})},getActiveView:function(){},
getViewFromWindow:function(j){for(var g=k.session.state.views,m=0;m<g.length;m++)if(g[m].context.name==j.name)return g[m];return false},setArea:function(j){var g=this.getViewWidth(j),m=this.getViewHeight(j),v=this.getOffset(j);j.width=g;j.height=m;j.canvas.width=g;j.canvas.height=m;j.offset=v},getViewWidth:function(j){return j.context.window.innerWidth},getViewHeight:function(j){return j.context.window.innerHeight},getOffset:function(j){j=k.utils.offset(j.canvas);return{x:j.left,y:j.top}},getCurrentWindow:function(){return r},
open:function(){},close:function(j){j=j||o.activeView;j.close()},api:[this.open,this.close]};k.init.register(i);return i}();k.Views=function(){l.makeObject(this,arguments,l.ObjectCollection)};k.Views.prototype={};k.views=new k.Views;k.module.register("view.js")})();(function(r){var k=r.vegas,o=k.utils;k.RegionPair=function(l,i,j){o.makeObject(this,arguments);return this.createRegionPair(l,i,j)};k.RegionPair.prototype={createRegionPair:function(l,i,j){var g,m=[];m[0]=new k.Region(l,i,j,true);m[1]=new k.Region(l,i,j,true);if(l=="horizontal")g=i.element.html('<div class="region region-horizontal region-top" id="'+m[0].id+'"></div><div class="region region-horizontal region-bottom" id="'+m[1].id+'"></div>').children();else if(l=="vertical")g=i.element.html('<div class="region region-vertical region-left" id="'+
m[0].id+'"></div><div class="region region-vertical region-left" id="'+m[1].id+'"></div>').children();else l!="application"&&console.error("Could not determine region orientation, the function must have a type of 'horizontal' or 'vertical'.");m[0].element=g.eq(0);m[1].element=g.eq(1);g.eq(0).data("object",m[0]);g.eq(1).data("object",m[1]);m[0]._parent=i;m[0]._sibling=m[1];m[1]._parent=i;m[1]._sibling=m[0];this._children=m;k.regions.add(m);return m}};k.Region=function(l,i,j,g){o.makeObject(this,arguments);
k.utils.extend(this,j);this.init(l,i,j,g)};k.Region.prototype={init:function(l,i){this.orientation=l;this._parent=i;this.id=o.getUniqueId();this.entity="Region";this.components=[];this.maximized=this.hasComponents=false},getType:function(){return this.contents[0].entity},getActiveContents:function(){return this.contents[0]},associateObjectsToElements:function(l){l=l.find("div.region").andSelf();for(var i=l.length,j,g,m=0;m<i;m++){j=jQuery(l[m]);g=j[0].id;g=k.regions.hash[g];g.element=j;g._parent=
j.parents("div.region:first").data("object");g._sibling=j.siblings().data("object");debugger;g.components=[];j.data("object",g);j=j.find("div.component");for(var v=j.length,A,H,J=0;J<v;J++){A=jQuery(j[J]);H=A[0].id;H=k.components.hash[H];H.element=A;A.data("object",H);console.log("tab element:",H.getTabElement());H.getTabElement().data("object",H);g.components.push(H)}}},remove:function(){var l=this.parent(),i=this.sibling();l.element.html(i.element.html());this.associateObjectsToElements(l.element)},
parent:function(){return this._parent},sibling:function(){return this._sibling},children:function(){return this._children},splitv:function(){var l=this.components;this.components=[];for(var i=new k.RegionPair("vertical",this),j=0;j<l.length;j++)l[j].insertComponentStructure(i[0]);new k.EditArea({title:"untitled"},i[1])},splith:function(){var l=this.components;this.components=[];for(var i=new k.RegionPair("horizontal",this),j=0;j<l.length;j++)l[j].insertComponentStructure(i[0]);new k.EditArea({title:"untitled"},
i[1])},getApplicationRegion:function(){return k.regions[0]},maximize:function(){for(var l=this.getApplicationRegion(),i=k.regions,j=i.length,g,m=0;m<j;m++){g=i[m].element;g.addClass("unmaximized")}this.element.addClass("maximized");this.element.width(l.element.width());this.element.height(l.element.height());l=this.element.find("button[action=maximize]");l.attr("action","restore");l.removeClass("maximize");l.addClass("restore");this.maximized=true},restore:function(){this.getApplicationRegion();for(var l=
k.regions,i=l.length,j,g=0;g<i;g++){j=l[g].element;j.removeClass("unmaximized")}this.element.removeClass("maximized");this.element.removeAttr("style");l=this.element.find("button[action=restore]");l.attr("action","maximize");l.removeClass("restore");l.addClass("maximize");this.maximized=false},insertRegionPair:function(l){var i=this,j;if(l=="horizontal")j=this.element.html('<div class="region region-horizontal region-top"></div><div class="region region-horizontal region-bottom"></div>').children();
else if(l=="vertical")j=this.element.html('<div class="region region-vertical region-left"></div><div class="region region-vertical region-left"></div>').children();else console.error("Could not determine region orientation, the function must have a type of 'horizontal' or 'vertical'.");var g=[],m;j.each(function(v,A){A=jQuery(A);m=new k.Region({orientation:l,element:A,_parent:i});A.attr("id",m.id);A.data("object",m);k.regions.add(m);g.push(m)});g[0]._sibling=g[1];g[1]._sibling=g[0];return this._children=
g},api:[this.remove]};k.region=function(){var l={regions:[],init:function(){this.attachEvents(this)},maximize:function(){this.getActiveRegion().maximize()},restore:function(){this.getActiveRegion().restore()},toggleMaximized:function(){var i=this.getActiveRegion();i.maximized==false?i.maximize():i.restore()},splitv:function(){this.getActiveRegion().splitv()},splith:function(){this.getActiveRegion().splith()},attachEvents:function(){jQuery(document).bind("click",function(i){var j=jQuery(i.target);
i=jQuery(i.target).parent();if(j.hasClass("tab")||i.hasClass("tab")&&j.hasClass("title"))console.log("test");if(j[0].tagName=="BUTTON"&&j.parent().hasClass("buttons")){i=j.parents(".region:first").data("object");var g=j.attr("action");i[g]()}i=false;if(j.hasClass("region"))i=j.data("object");else{j=j.parents(".region:first");if(j.length>0)i=j.data("object")}if(i!==false)k.session.state.activeRegion=i})},getActiveRegion:function(){return k.session.state.activeRegion},api:[this.getRegions]};k.init.register(l);
return l}();k.Regions=function(){o.makeObject(this,arguments,o.ObjectCollection)};k.Regions.prototype={hook:function(l,i){k.hook(l,function(j){var g=getElementObject(j.target,"region");g&&i(g,j)})}};k.regions=new k.Regions;k.module.register("region.js")})(this);(function(){var r=function(){return this}.call().vegas,k=r.utils;r.Tab=function(){var o=function(){r.utils.makeObject(this,arguments);this.type=this.entity="Tab"};o.prototype={init:function(l){this.component=l.component||null},remove:function(){},moveTo:function(){},getWindow:function(){},getPane:function(){},api:[this.remove,this.moveTo,this.getWindow,this.getPane]};return o}();r.tab=function(){var o={init:function(){this.attachEvents()},attachEvents:function(){this.attachTabDragEvent();this.attachTabCloseEvent()},
getTabTargetAreas:function(){for(var l=[],i,j,g=jQuery(".regionPane"),m=0;m<g.length;m++){i=jQuery(g[m]);j=i.offset();i={top:j.top-10,bottom:j.top+i.outerHeight(true)+10,left:j.left-10,right:j.left+i.outerWidth(true)+10,element:i};l.push(i)}return l},getOffsets:function(l){l=l.parents(".tabs").find(".tab");for(var i,j=l.first().outerWidth(),g=[],m=[],v=0;v<l.length;v++){i=jQuery(l[v]).offset();m.push([i.left,i.left+j,Math.floor(i.left+j/2)]);g.push(l[v])}return{offsets:m,elements:g}},adjustOffsets:function(){},
attachTabDragEvent:function(){jQuery(document).bind("mousedown",function(){})},attachTabDragEventOld:function(){var l=this;jQuery(document).bind("mousedown",function(i){var j=false,g=jQuery(i.target),m=g.parents(".tabs"),v=g.outerWidth(),A=g.offset(),H=l.getOffsets(g),J=H.offsets,N=H.elements,O=i.clientX-A.left;i=false;if(g.hasClass("tab-title")){g=g.parent();i=true}if(g.hasClass("tab"))i=true;if(!i)return false;var U=g.clone(),c=U[0].style;c.top=A.top+"px";var V,X,B=function(P){V=P.clientX;if(!j){jQuery(document.body).prepend(U);
U.css({position:"absolute",zIndex:1});g.remove();j=true}c.left=V-O+"px";for(var T=false,ba,ka,W=0;W<J.length;W++){ba=J[W];if(V>ba[0]&&V<ba[1])if(N[W].id!==g.attr("id")){T=N[W];ka=ba[2];break}}if(T){P=P.clientX<=ka?W:W+1;if(X!==P){m.find(".spacer").animate({width:1},750,function(){jQuery(this).remove()});jQuery(N[P-1]).after('<div class="tab spacer" style="width:0;"></div>');m.find(".spacer").animate({width:v},750);X=P}}};jQuery(document).bind("mousemove",B);jQuery(document).bind("mouseup",function P(){m.find(".spacer").replace(c);
jQuery(document).unbind("mousemove",B);jQuery(document).unbind("mouseup",P)})})},attachTabCloseEvent:function(){jQuery(document).bind("click",function(l){l=jQuery(l.target);l.parent().hasClass("tab")&&l.hasClass("close")&&l.parent().data("object").close()})}};r.init.register(o);return o}();r.Tabs=function(){k.makeObject(this,arguments,k.ObjectCollection)};r.Tabs.prototype={hook:function(o,l){r.hook(o,function(i){var j=getElementObject(i.target,"tab");j&&l(j,i)})}};r.tabs=new r.Tabs;r.module.register("tab.js")})();(function(){var r=function(){return this}.call().vegas,k=r.utils;r.Component=function(){r.utils.makeObject(this,arguments);this.entity="Component";this.elements=[]};r.Component.prototype={initComponent:function(){this.id=r.utils.getUniqueId()},insertComponentStructure:function(o){this.region=o=o||this.region;o.components.length<1&&this.insertComponentContainer(o);var l=o.element.find(".components"),i=o.element.find(".tabs"),j=l.append('<div class="component component-'+this.type+'" id="'+this.id+
'">'+this.componentStructure()+"</div>").find(".component:last");i=i.append('<div class="tab" id="tab-'+this.id+'"><span class="title tab-title">'+this.title+'</span><a class="close"></a></div>').find(".tab:last");this.element=j;this.elements.componentsWrapper=l;this.elements.tabElement=i;j.data("object",this);i.data("object",this);r.components.add(this);o.components.push(this);return this},getTabElement:function(){return jQuery("#tab-"+this.id)},insertComponentContainer:function(o){o.element.html('<div class="regionPane"><div class="tabs"></div><div class="buttons"><button class="splitv" action="splitv"></button><button class="splith" action="splith"></button><button class="maximize" action="maximize"></button></div></div><div class="components"></div>')},
close:function(){this.getTabElement().remove();jQuery(this.element).remove();for(var o=this.region.components,l=o.length,i,j=0;j<l;j++){i=o[j];if(this.id===i.id){this.region.components.splice(j,1);break}}this.region.components.length<=0&&this.region.remove()},getRegion:function(){return this.region},attachTo:function(o){o.tabs.push(this)},attach:function(){this.attachTo(session.activeEditAreaPane)}};r.Components=function(){k.makeObject(this,arguments,k.ObjectCollection)};r.Components.prototype={hook:function(o,
l){r.hook(o,function(i){var j=getElementObject(i.target,"region");j&&l(j,i)})}};r.components=new r.Components;r.module.register("component.js")})();(function(r){var k=r.vegas,o=k.utils;k.Buffer=function(){k.utils.makeObject(this,arguments)};k.Buffer.prototype={init:function(){this._value="";this.length=this._value.length},save:function(){this.resource.save()},destroy:function(){return false},setResource:function(l){this.resource=l},activate:function(){for(var l=0;l<this._onActivate.length;l++)k.buffers._onActivate[l](this)},onActivate:function(l){k.buffers._onActivate.push(l)},toString:function(){return this.getValue()},setValue:function(l){if(typeof l!==
"undefined")this._value=l;else this.getValue()},append:function(l){this._value+=l},deletePreviousCharacter:function(){var l=this._value;this._value=l.substr(0,l.length-1)},empty:function(){this._value=""},getValue:function(){return this._value},api:[]};k.Buffers=function(){o.makeObject(this,arguments,o.ObjectCollection)};k.Buffers.prototype={list:function(){return bufferList},onActivate:function(l){k.buffers._onActivate.push(l)},seek:function(){return bufferList}};k.buffers=new k.Buffers;k.module.register("buffer.js")})(this);(function(){var r=function(){return this}.call().vegas,k=r.utils;r.Cursor=function(){r.utils.makeObject(this,arguments)};r.Cursor.prototype={init:function(o){this.col=this.row=0;this.region=o},paint:function(o){o=o||r.session.state.activeView;o=o.ctx;var l=this.row,i=this.region,j=i.options,g=j.font.size,m=i.getTextPoint();o.fillStyle=j.cursor.color;o.fillRect(m.x,g*(l-i.scrollbar.charsFromtop+1)+m.y,j.cursor.width,j.cursor.height)},events:function(){},getFromXy:function(){},down:function(){},up:function(){},
left:function(){},right:function(){},home:function(){},end:function(){},nextWord:function(){},prevWord:function(){},nextBlock:function(){},prevBlock:function(){},nextSmart:function(){},prevSmart:function(){},top:function(){},bottom:function(){},api:[]};r.Cursors=function(){k.makeObject(this,arguments,k.ObjectCollection)};r.Cursors.prototype={};r.cursors=new r.Cursors;r.module.register("cursor.js")})();(function(){var r=function(){return this}.call().vegas;r.select=function(){var k={init:function(){},draw:function(){},events:function(){},select:function(){},unselect:function(){},onstart:function(){},onstop:function(){},api:[]};r.init.register(k);return k}();r.module.register("select.js")})();(function(){var r=function(){return this}.call().vegas;r.Scope=function(){var k=function(){r.utils.makeObject(this,arguments)};k.prototype={init:function(){}};return k}();r.module.register("scope.js")})();(function(){var r=function(){return this}.call().vegas;r.Resource=function(){var k=function(){r.utils.makeObject(this,arguments)};k.prototype={init:function(){},create:function(){},remove:function(){},read:function(){},update:function(){},api:[this.somePublicMethod]};return k}();r.module.register("resource.js")})();(function(){var r=function(){return this}.call().vegas;r.actions=function(){return{actionBackspace:function(){},actionDelete:function(){},actionEnter:function(){},actionUp:function(){},actionDown:function(){},api:[]}}();r.module.register("actions.js")})();(function(){var r=function(){return this}.call().vegas;r.EditArea=function(k,o){r.utils.makeObject(this,arguments,r.Component);r.utils.extend(this,k);this.region=o;this.init()};r.EditArea.prototype={init:function(){this.type=this.entity="EditArea";this.initComponent();this.insertComponentStructure()},componentStructure:function(){return"<canvas></canvas>"}};r.module.register("editArea.js")})();(function(){var r=function(){return this}.call().vegas,k=r.session;r.file=function(){return{"new":function(){console.log("new");var o=new r.Buffer(null);(new r.EditArea(o)).attach()},newFile:function(){this["new"].apply(this,arguments)},open:function(o){console.log("open");o=new r.Resource(o);o=new r.Buffer(o);(new r.EditArea(o)).attach()},close:function(o){o=o||k.activeEditArea;o.close()},save:function(){console.log("save");r.status.displayMessage("File has been saved.")},saveAs:function(o,l){console.log("saveAs");
typeof o!=="string"&&console.error("bad param: resourceLocation");l=l||k.activeBuffer;var i=new r.Resource(o);l.setResource(i);l.save()},saveAll:function(){console.log("saveAll");for(var o=buffers.getUnsavedBuffers(),l,i=[],j=[],g=0;g<o.length;g++){l=o[g];i.push(l)}if(i.length===o.length)r.status.displayMessage("All buffers saved.");else{console.log("Could not save buffers: ",j.implode(", "));r.status.displayMessage("Could not save all buffers, check console.")}},api:[this["new"],this.open,this.save,
this.saveAs,this.saveAll]}}();r.module.register("file.js")})();(function(r){var k=r.vegas,o=k.utils,l=k.settings.commandBar;k.CommandBar=function(i,j){o.makeObject(this,arguments,k.Component);k.utils.extend(this,i);this.region=j;this.init()};k.CommandBar.prototype={init:function(){this.type=this.entity="CommandBar";this.initComponent();this.insertComponentStructure();this.suggested=[];this.suggestedIndex=0;this.context=k;this.buffer=new k.Buffer({multiline:false});this.cursor=new k.Cursor(this,{multiline:false});this.scrollbar={charsFromtop:0}},componentStructure:function(){return"<canvas></canvas>"},
getTextPoint:function(){this.textPoint||this.setTextPoint();return this.textPoint},setTextPoint:function(){this.textPoint={x:this.area.x+l.bufferTextOffsetX,y:this.area.y+l.bufferFontSize+l.bufferTextOffsetY}},onFocus:function(){this.paint()},paint:function(i){i=i||k.session.state.activeView;i=i.ctx;var j=this.buffer.getValue();i.measureText(j);var g=this.getTextPoint(),m=g.x;g=g.y;i.fillStyle=l.backgroundColor;i.fillRect(this.area.x,this.area.y,this.area.width,this.area.height);i.font=l.bufferFontSize+
"px "+l.bufferFontFamily;if(this.suggested&&this.suggested.length>0){var v=this.suggested[this.suggestedIndex];i.fillStyle=l.bufferSuggestFontColor;i.fillText(v,m,g)}i.fillStyle=l.bufferFontColor;i.fillText(j,m,g)},reflow:function(){this.setTextPoint()},hooks:{variableAssignment:function(i,j){if(typeof i.objectInfo=="object"&&typeof i.objectInfo.value=="string"){this.buffer.append(' = "";');j.outputChar=false}}},handleTextInput:function(i){var j=true;i=="."&&this.switchContext();if(i=="="){var g=
o.trim(this.buffer.toString());g=o.getObjectInfoFromString(g);if(g!==false){j={outputChar:j};k.hook.invoke.call(this,"variableAssignment",{buffer:this.buffer,cursor:this.cursor,objectInfo:g},j);j=j.outputChar}}j&&this.buffer.append(i);this.updateSuggestions()},switchContext:function(i){if(i===undefined)i=this.buffer.toString();var j=o.getObjectPropertyFromString(i);if(j!==false&&(i==""||typeof j==="object")){i=i==""?k:j;if(i!==this.context){k.hook.invoke.call(this,"variableAssignment",{currentContext:this.context},
{newContext:i});this.context=i;return true}else return false}else return this.context=false},deletePreviousCharacter:function(){var i=this.buffer.toString(),j=i.substr(-1);this.buffer.deletePreviousCharacter();i=this.buffer.toString();if(j=="."||i==""||!this.context){i=this.buffer.toString();i=i.indexOf(".")!==-1?i.substring(0,i.lastIndexOf(".")):"";this.switchContext(i)}this.updateSuggestions();this.paint()},autocomplete:function(){this.useSuggestion()},resetSuggestions:function(){this.suggested=
[];this.context=k},updateSuggestions:function(i){i=i||this.buffer.toString();if(i=="")this.suggested=[];else{this.suggested=[];var j=i.split(".");j=j[j.length-1];i=i.lastIndexOf(".")!==-1?i.substring(0,i.lastIndexOf("."))+".":"";for(var g in this.context)g[0]>="a"&&g[0]<="z"&&g.substring(0,j.length)==j&&this.suggested.push(i+g)}},useSuggestion:function(i){i=i||this.suggested[this.suggestedIndex];if(typeof i!=="string")return false;var j=i.split(".");if(this.context[j[j.length-1]]){this.buffer.setValue(i);
this.switchContext();this.updateSuggestions();this.paint()}},isCallingInternalFunction:function(){},callInternalFunction:function(){},isAssigningAlias:function(){},assignAlias:function(){},isAssigningInternalProperty:function(i){var j=i.split("=");i=false;if(j.length===2){var g=o.trim(j[0]).split("."),m=g.pop();g=g.join(".");g=o.getObjectPropertyFromString(g);j=o.trim(j[1]);if(g&&m in g)if(j.match(/^["'](.*)["'];?$/))i=true}return i},assignInternalProperty:function(i){var j=i.split("="),g=o.trim(j[0]).split(".");
i=g.pop();g=g.join(".");g=o.getObjectPropertyFromString(g);j=o.trim(j[1]);if(j=j.match(/^["'](.*)["'];?$/)){j=o.trim(j[1]);g[i]=j}},doCommand:function(i){i=i||this.buffer.getValue();for(var j=i.split("."),g=k,m,v=0;v<j.length;v++){m=g[j[v]];if(typeof m!=="undefined")if(typeof m=="function"){m.call(g);this.buffer.empty()}else{if(typeof m=="object"){g=m;this.buffer.empty();this.resetSuggestions()}}else if(this.suggested.length>0)this.doCommand(this.suggested[this.suggestedIndex]);else if(this.isAssigningInternalProperty(i))this.assignInternalProperty(i);
else if(this.isCallingInternalFunction(i))this.callInternalFunction(i);else l.allowEval?this.evaluate(i):console.error("Command not found")}k.paint.paint()},evaluate:function(i){try{eval("(function(){  with(vegas) {"+i+"} })()")}catch(j){console.error("Command not found, could not evaluate JS");return false}}};k.command=function(){var i={init:function(){this.attachEvents()},attachEvents:function(){o.onReady(function(){o.takeTextInput(function(j){var g=k.region.getActiveRegion();if(g.entity=="CommandBar"){g.handleTextInput.call(g,
j);g.paint()}})})},paint:function(j){j=j||k.session.state.activeView;for(var g=j.regionList.length;g--;)j.regionList[g].entity=="CommandBar"&&j.regionList[g].paint.call(j.regionList[g])},api:[this.exec]};k.init.register(i);return i}();k.module.register("command.js")})(this);(function(){var r=function(){return this}.call().vegas;r.keyMappings=function(){var k={keySequences:{},init:function(){this.parsedKeyMappings=this.parseKeyMappings()},parseKeyMappings:function(o){o=o||r.settings.keyMappings;for(var l,i,j,g,m,v,A,H,J,N,O,U,c,V,X={},B=[],P=o.length,T;P--;){H=o[P];N=[];A=v=m=g=U=j=l=i=O=false;J=H.split(" ");T=J.length;if((V=H.match(/\((a-zA-Z0-9= ,)\)/))&&V.length>1)A=1;for(;T--;){c=J[T];if(c=="while")if(J[T+1]=="in"){v=T+1;continue}if(c=="in")g=T;else if(c=="does")m=
T}if(g!==false){l=J[g+1];N.push(g)}if(m!==false){i=J[m+1];i=this.getTrueActionFromContext(i,l);N.push(m)}if(v!==false){j=J[v+1];N.push(v)}if(A!==false){g=V[1].split(/,\s*/);for(m=g.length;m--;){v=g[m];v=v.split(/\s*\=\s*/);if(v.length==1)X[v[0]]=true;else if(v.length==2)X[v[0]]=v[1]}N.push(A)}if(N.length>0)O=Math.min.apply(Math,N);if(O)U=J.splice(0,O);B[P]={keySequence:U,action:i,context:l,mode:j,options:X,keyMappingString:H}}return B},getTrueActionFromContext:function(o,l){var i=o,j=o.split("."),
g=false;if(l in r&&typeof r[l].prototype=="object")if("commandContext"in r[l].prototype)g=r[l].prototype.commandContext;if(j[0]=="vegas")i=i.substr(6);if(g&&j[0]!==g)i=g+"."+i;return i},actions:["parseKeyMappings"]};r.init.register(k);return k}();r.module.register("keymap.js")})();(function(){var r=function(){return this}.call().vegas,k=r.utils;r.keyHandler={init:function(){this.keysDown={};this.keysDownOrder=[];this.inSequence=this.capslock=this.numlock=false;this.insertMode="hmmmm";this.sequenceIndex=0;this.sequenceMatches=[];this.keyNameKeyCodeMapping={keydown:{},keyup:{}};this.keyNameToKeyCode("keydown");this.keyNameToKeyCode("keyup");this.attachEvents()},attachEvents:function(){var o=this,l=document;k.bind(l,"blur",function(){o.keysDown={};o.keysDownOrder=[]});k.bind(l,
"keydown",function(i){o.keydownHandler.call(o,i)});k.bind(l,"keypress",function(i){o.keypressHandler.call(o,i)});k.bind(l,"keyup",function(i){o.keyupHandler.call(o,i)})},keydownHandler:function(o){var l=o.keyCode,i=this.getKeyName(l);this.isKeyDown=true;if(typeof this.keysDown[l]=="undefined"){this.keysDown[l]=i;this.keysDownOrder.push(l);i=this.getKeysDown();i=this.areKeysMapped(i);if(i!==false){o.preventDefault();this.execute(i);delete this.keysDown[l];this.keysDownOrder.pop()}}},keypressHandler:function(o){if(o.which){String.fromCharCode(o.which);
o=this.areKeysMapped([this.getKeyName(o.which,"keypress")]);if(o!==false)this.isKeyDown||this.execute(o)}else o.preventDefault();this.isKeyDown&&delete this.isKeyDown},keyupHandler:function(o){o.preventDefault();o=o.keyCode;for(var l=this.keysDownOrder,i=l.length,j=0;j<i;j++)if(l[j]==o){this.keysDownOrder.splice(j,1);break}this.isKeyDown&&delete this.isKeyDown;delete this.keysDown[o]},execute:function(o){for(var l=o.action.split("."),i=r,j,g,m=0;m<l.length;m++){g=l[m];j=i[g];if(g in i)if(typeof j==
"function"){j.call(i);this.executed=o;return true}else{if(typeof j=="object")i=j}else{l=r.session.state.activeRegion;if(l.entity==o.context&&g in l&&typeof l[g]=="function"){l[g]();this.executed=o;return true}else{console.error("Unidentified property: ",g," in ",i);return false}}}},getKeyName:function(o,l){l=l||"keydown";var i=r.settings.keyboard[l];if(typeof i[o]!=="undefined")return i[o];else{console.error("Unknown key",o," assuming super");return"super"}},getKeyCode:function(o,l){l=l||"keydown";
var i=this.keyNameKeyCodeMapping[l];if(typeof i[o]!=="undefined")return i[o];else{console.error("Unknown key name",o);return false}},keyNameToKeyCode:function(o){o=o||"keydown";var l=r.settings.keyboard[o],i,j,g=this.keyNameKeyCodeMapping[o];g[o]={};for(i in l){j=l[i];g[j]=i}this.keyNameKeyCodeMapping[o]=g[o]},getKeysDown:function(o){o=o||false;for(var l="",i=[],j=0,g=this.keysDownOrder.length,m,v=this.keysDownOrder,A=this.keysDown;j<g;j++){m=v[j];if(o)l+="+"+A[m];else i.push(A[m])}return o?l.substr(1):
i},areKeysMapped:function(o){var l=r.keyMappings.parsedKeyMappings,i=l.length,j,g,m=this.sequenceMatches,v=[],A=false;if(this.sequenceIndex>0){for(l=m.length;l--;){j=m[l];g=j.keySequence;if(typeof g[this.sequenceIndex]!=="undefined")if(this.keysMatch(o,g[this.sequenceIndex])!==false){if(this.sequenceIndex==g.length-1){this.sequenceMatches=[];this.sequenceIndex=0;return A=j}v.push(j)}}if(v.length>0){this.sequenceMatches=v;this.sequenceIndex++}else{this.sequenceMatches=[];this.sequenceIndex=0}}else for(;i--;){j=
l[i];g=j.keySequence;if(g.length==1&&this.inSequence==false){if(this.keysMatch(o,g[0]))if(j.context){if(r.region.getActiveRegion().entity==j.context){A=j;break}}else{A=j;break}}else if(g.length>1)if(this.keysMatch(o,g[0])){this.sequenceIndex++;this.sequenceMatches.push(j)}}return A},keysMatch:function(o,l,i){i=i||false;if(typeof l==="string")if(l=="{number}")if(k.isArray(o))if(o.length==1){o.toString();if(k.isNumber())this.insertingNumbers=true;return false}else console.error("what the hells going on here?");
else console.error("does this ever even happen?");if(i){if(k.isArray(o))o=o.join("+");if(k.isArray(l))l=l.join("+");return o===l}else{k.isArray(o)||(o=o.split("+"));k.isArray(l)||(l=l.split("+"));i=0;if(o.length!==l.length)return false;else{for(var j=0;j<o.length;j++)for(var g=o[j],m=0;m<l.length;m++)g===l[m]&&i++;return i!==l.length?false:true}}}};r.init.register(r.keyHandler);r.module.register("keyHandler.js")})();console.info("all modules have been loaded, initializing.");vegas.init.init();
